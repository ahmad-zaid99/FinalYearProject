{"id": "S2314808X14000438", "article": "MAIN-TITLE Numerical computation of fractional Black\u2013Scholes equation arising in financial market   HIGHLIGHTS          We consider a fractional model of Black\u2013Scholes equation.      The HPM and HAM are applied to obtain the solution of the problem.      The results obtained by HPM and HAM are in excellent agreement.      The numerical results show that the techniques are easy to implement and accurate.          KEYPHRASES   Black\u2013Scholes equation  European option pricing  Fractional derivatives  Analytical solution  Homotopy perturbation method  Homotopy analysis method  34A08  35A20   In 1973, Fischer Black and Myron Scholes [1] derived the famous theoretical valuation formula for options. The main conceptual idea of Black and Scholes lie in the construction of a riskless portfolio taking positions in bonds (cash), option and the underlying stock. Such an approach strengthens the use of the no-arbitrage principle as well. Thus, the Black\u2013Scholes formula is used as a model for valuing European (the option can be exercised only on a specified future date) or American (the option can be exercised at any time up to the date, the option expires) call and put options on a non-dividend paying stock [2]. Derivation of a closed form solution to the Black\u2013Scholes equation depends on the fundamental solution of the heat equation. Hence, it is important, at this point, to transform the Black\u2013Scholes equation to the heat equation by change of variables. Having found the closed form solution to the heat equation, it is possible to transform it back to find the corresponding solution of the Black\u2013Scholes PDE. Financial models were generally formulated in terms of stochastic differential equations. However, it was soon found that under certain restrictions these models could written as linear evolutionary PDEs with variable coefficients [3]. Thus, the Black\u2013Scholes model for the value of an option is described by the equation  (1)     \u2202 v   \u2202 t   +    \u03c3 2   x 2   2     \u2202 2  v   \u2202  x 2    + r ( t )  x   \u2202 v   \u2202 x   \u2212 r ( t )  v = 0 ,  ( x , t ) \u2208  R +  \u00d7 ( 0 , T )    where v(x,t) is the European call option price at asset price x and at time t,\u2009\u2009K is the exercise price, T is the maturity, r(t) is the risk free interest rate, and \u03c3(x,t) represents the volatility function of underlying asset. Let us denote by v  c (x,t) and v  p (x,t) the value of the European call and put options, respectively. Then, the payoff functions are  (2)    v c  ( x , t ) = max ( x \u2212 E , 0 ) ,   v p  ( x , t ) = max ( E \u2212 x , 0 ) ,    where E denotes the expiration price for the option and the function max(x,0) gives the larger value between x and 0. During the past few decades, many researchers studied the existence of solutions of the Black-Scholes model using many methods in [4\u201312]. Many important phenomena are well described by fractional differential equations in electromagnetics, acoustics, viscoelasticity, electro chemistry and material science. That is because of the fact that, a realistic modelling of a physical phenomenon having dependence not only at the time instant, but also the previous time history can be successfully achieved by using fractional calculus. The book by Oldham and Spanier [13] has played a key role in the development of the subject. Some fundamental results related to solving fractional differential equations may be found in Miller and Rose [14], Podlubny [15], Kilbas et\u00a0al. [16], Podlubny [17].  The objective of this paper is to extend the application of homotopy perturbation method (HPM) and homotopy analysis method (HAM) to obtain analytic and approximate solution fractional Black\u2013Scholes equations. The homotopy perturbation method is first proposed and applied by Chinese mathematician He [18\u201322]. The method was successfully applied to space\u2013time fractional advection\u2013dispersion equation by Yildirim and Kocak [23], fractional Zakharov\u2013Kuznetsov equations by Yildirim and Gulkanat [24], fractional modified Kdv equation by Abdulaziz et\u00a0al. [25], Fractional Chemical Engineering equation by Khan et\u00a0al. [26]. One of the highly applicable analytical techniques is homotopy analysis method (HAM), which was introduced and developed by Liao [27\u201331]. This method is applied to solve many nonlinear problems [32\u201335] and the references therein to handle a wide variety of scientific and engineering applications: linear and nonlinear as well as homogeneous and inhomogeneous.  The fractional Black\u2013Scholes equation can be written as  (3)    D t \u03b1  v +    \u03c3 2   x 2   2   D x 2  v + r  ( t )   x  D x  v \u2212 r  ( t )  v = 0 ,  0 < \u03b1 \u2264 1 ,    equipped with the terminal and boundary condition  (4)   v ( x , T ) = max ( x \u2212 E , 0 ) ,  x \u2208  R +  ,  v ( 0 , t ) = 0 ,  t \u2208 [ 0 , T ]       In this section, we mention the following basic definitions of fractional calculus which are used further in the present paper. Definition 1 The Riemann-Liouville fractional integral operator of order \u03b1\u00a0>\u00a00, of a function  f ( t ) \u2208  C \u03bc  , \u03bc \u2265 \u2212 1  is defined as [15]:     (5)    J \u03b1  f  ( t )  =  1  \u0393 ( \u03b1 )     \u222b 0 t     ( t \u2212 \u03c4 )   \u03b1 \u2212 1     f  ( \u03c4 )  \u2146 \u03c4 ,   ( \u03b1 > 0 )  ,       (6)    J 0  f ( t ) = f ( t ) .       For the Riemann-Liouville fractional integral we have:  (7)    J \u03b1   t \u03b3  =   \u0393 ( \u03b3 + 1 )   \u0393 ( \u03b3 + \u03b1 + 1 )    t  \u03b1 + \u03b3   .       The fractional derivative of f(t) in the Caputo sense is defined as [36]:  (8)    D t \u03b1  f  ( t )  =  J  m \u2212 \u03b1    D n  f  ( t )  =  1  \u0393 ( n \u2212 \u03b1 )     \u222b 0 t     ( t \u2212 \u03c4 )   m \u2212 \u03b1 \u2212 1      f  ( m )    ( \u03c4 )  \u2146 \u03c4 ,    for  m \u2212 1 < \u03b1 \u2264 m ,  m \u2208 N ,  t > 0  .  For the Riemann-Liouville fractional integral and the Caputo fractional derivative, we have the following relation  (9)    J t \u03b1   D t \u03b1  f  ( t )  = f  ( t )  \u2212  \u2211  k = 0   m \u2212 1     f  ( k )     ( 0 + )     t k    k !   .       The Mittag-Leffler is defined as [37]:     (10)    E \u03b1   ( z )  =  \u2211  k = 0  \u221e      z k    \u0393  (  \u03b1 k + 1  )     ,   (  \u03b1 \u2208 C , Re ( \u03b1 ) > 0  )  .       To illustrate the basic idea of the HPM for fractional differential equations, we consider the following problem  (11)    D  \u2217 t  \u03b1  u ( x , t ) = v ( x , t ) \u2212 L u ( x , t ) \u2212 N u ( x , t ) ,  m \u2212 1 < \u03b1 \u2264 m ,  m \u2208 N ,  t \u2265 0 ,  x \u2208  R n        Subject to the initial and boundary conditions  (12)    u  ( i )    ( 0,0 )  =  c i  ,  B  (  u ,   \u2202 u   \u2202  x j    ,   \u2202 u   \u2202 t    )  = 0 ,  i = 0,1,2 , \u2026 , m \u2212 1 ,  j = 1,2,3 , \u2026 , n    where L is a linear operator, while N is a nonlinear operator, v is a known analytical function and   D  \u2217 t  \u03b1   denotes the fractional derivative in the Caputo sense [15]. u is assumed to be a causal function of time, i.e., vanishing for t\u00a0<\u00a00. Also u (i)(x,t) is the ith derivative of u,\u2009c  i ,\u2009\u2009i\u00a0=\u00a00,1,2,\u2026,m\u22121 are the specified initial conditions and B is a boundary operator.  We construct the following homotopy  (13)   ( 1 \u2212 p )  D  \u2217 t  \u03b1  u ( x , t ) + p  (   D  \u2217 t  \u03b1  u ( x , t ) + L u ( x , t ) + N u ( x , t ) \u2212 v ( x , t )  )  = 0 ,  p \u2208 [ 0,1 ]    which is equivalent to  (14)    D  \u2217 t  \u03b1  u ( x , t ) + p  (  L u ( x , t ) + N u ( x , t ) \u2212 v ( x , t )  )  = 0 ,  p \u2208 [ 0,1 ]       The homotopy parameter p always changes from zero to unity. In case p\u00a0=\u00a00, Eq. (14) becomes  (15)    D  \u2217 t  \u03b1  u ( x , t ) = 0 ,    when p\u00a0=\u00a01, Eq. (14) turns out to be the original fractional differential equation. The homotopy parameter p is used to expand the solution in the following form  (16)   u ( x , t ) =  u 0  ( x , t ) + p  u 1  ( x , t ) +  p 2   u 2  ( x , t ) +  p 3   u 3  ( x , t ) + \u2026  .       For nonlinear problems, we set Nu(x,t)\u00a0=\u00a0S(x,t). Substituting Eq. (16) into Eq. (14) and equating the terms with identical power of p, we obtain a sequence of equations of the form  (17)      p 0  :  D  \u2217 t  \u03b1   u 0  ( x , t ) = 0 ,      p 1  :  D  \u2217 t  \u03b1   u 1  ( x , t ) = \u2212 L  u 0  ( x , t ) \u2212  S 0  (  u 0  ( x , t ) ) + v ( x , t ) ,      p 2  :  D  \u2217 t  \u03b1   u 2  ( x , t ) = \u2212 L  u 1  ( x , t ) \u2212  S 1  (  u 0  ( x , t ) ,   u 1  ( x , t ) ) ,      p j  :  D  \u2217 t  \u03b1   u j  ( x , t ) = \u2212 L  u  j \u2212 1   ( x , t ) \u2212  S  j \u2212 1   (  u 0  ( x , t ) ,   u 1  ( x , t ) ,   u 2  ( x , t ) , \u2026 ,  u  j \u2212 1   ( x , t ) ) ,  j = 2,3,4 , \u2026         The functions S 0,S 1,S 2,\u2026 satisfy the following equation  (18)   S  (   u 0  ( x , t ) + p  u 1  ( x , t ) +  p 2   u 2  ( x , t ) +  p 3   u 3  ( x , t ) + \u2026  )  =  S 0   (   u 0  ( x , t )  )  + p  S 1   (   u 0  ( x , t ) ,  u 1  ( x , t )  )  +  p 2   S 2   (   u 0  ( x , t ) ,  u 1  ( x , t ) ,  u 2  ( x , t )  )  + \u2026  .       Applying the inverse operator   J t \u03b1   on both sides of the equation (15) and considering the initial and boundary conditions, the various components of the series solution are given by  (19)      u 0   ( x , t )  =  \u2211  i = 0   n \u2212 1     c i     t i    i !    ,      u 1  ( x , t ) = \u2212  J t \u03b1  ( L  u 0  ( x , t ) ) \u2212  J t \u03b1   S 0  (  u 0  ( x , t ) ) +  J t \u03b1  v ( x , t ) ,      u j  ( x , t ) = \u2212  J t \u03b1  ( L  u  j \u2212 1   ( x , t ) ) \u2212  J t \u03b1   S  j \u2212 1   (  u 0  ( x , t ) ,  u 1  ( x , t ) ,  u 2  ( x , t ) , \u2026 ,  u  j \u2212 1   ( x , t ) ) ,  j = 2,3,4 , ...  .         Hence, the HPM solution u(x,t) is given by  (20)   u  ( x , t )  =  \u2211  i = 0  \u221e    u i  ( x , t )        In order to show the basic idea of HAM, consider the following nonlinear fractional differential equation  (21)    N F  [ u ( x , t ) ] = 0 ,    where N  F is a nonlinear fractional operator, x and t denote the independent variables and u is an unknown function. For simplicity, we ignore all boundary or initial conditions, which can be treated in the similar way. By means of the HAM, we first construct the so-called zeroth-order deformation equation as  (22)   ( 1 \u2212 q )  L F  [ \u03d5 ( x , t ; q ) \u2212  u 0  ( x , t ) ] = \u210f q H ( x , t )  N F  [ u ( x , t ) ] ,    where  q \u2208 [ 0,1 ]  is the embedding parameter, \u210f\u00a0\u2260\u00a00 is an auxiliary parameter, L  F is an auxiliary linear operator, \u03c6(x,t\u200a\u200a;q) is an unknown function,u 0(x,t) is an initial guess of u(x,t) and H(x,t) denotes a nonzero auxiliary function. Obviously, when the embedding parameter q\u00a0=\u00a00 and q\u00a0=\u00a01, it holds  (23)   \u03d5 ( x , t ; 0 ) =  u 0  ( x , t ) ,  \u03d5 ( x , t ; 1 ) = u ( x , t ) ,    respectively. Thus as q increases from 0 to 1, the solution \u03c6(x,t\u200a\u200a;q) varies from the initial guess u 0(x,t) to the solution u(x,t). Expanding \u03c6(x,t\u200a\u200a;q) in Taylor series with respect to q, we have  (24)   \u03d5  ( x , t ; q )  =  u 0   ( x , t )  +  \u2211  m = 1  \u221e    u m  ( x , t )  q m   ,    where  (25)    u m   ( x , t )  =  1  m !          \u2202 m  \u03d5 ( x , t ; q )   \u2202  q m     |    q = 0   .       If the auxiliary linear operator, the initial guess, the auxiliary parameter \u210f, and the auxiliary function are properly chosen, the series (24) converges at q\u00a0=\u00a01, then we have  (26)   u  ( x , t )  =  u 0   ( x , t )  +  \u2211  m = 1  \u221e    u m  ( x , t )  ,    which must be one of the solutions of the original nonlinear fractional differential equations. According to the definition (26), the governing equation can be deduced from the zero-order deformation (22). Define the vectors  (27)      u \u2192   m  = {  u 0  ( x , t ) ,  u 1  ( x , t ) , \u2026 ,  u m  ( x , t ) } .       Differentiating the zeroth-order deformation Eq. (22) m-times with respect to q and then dividing them by m! and finally setting q\u00a0=\u00a00, we get the following mth-order deformation equation:  (28)    L F  [  u m  ( x , t ) \u2212  \u03c7 m   u  m \u2212 1   ( x , t ) ] = \u210f H ( x , t )  \u211c m  (    u \u2192    m \u2212 1   ) ,    where  (29)    \u211c m   (    u \u2192    m \u2212 1   )  =  1  ( m \u2212 1 ) !          \u2202  m \u2212 1    N F  [ \u03d5 ( x , t ; q ) ]   \u2202  q  m \u2212 1      |    q = 0   ,    and  (30)    \u03c7 m  =  {    0 ,  m \u2264 1 ,     1 ,  m > 1.           In order to illustrate the advantages and the accuracy of the HPM and HAM for solving fractional Black-Scholes equation with boundary condition for a European option problem, we have applied the methods for two different examples. Example 1 We consider the fractional Black\u2013Scholes equation as [12]   (31)      \u2202 \u03b1  v   \u2202  t \u03b1    =    \u2202 2  v   \u2202  x 2    +  ( k \u2212 1 )    \u2202 v   \u2202 x   \u2212 k v ,  0 < \u03b1 \u2264 1 ,    with initial condition v(x,0)\u00a0=\u00a0max\u2009(e  x \u22121,\u2009\u20090). Notice that this system of equations contains just two dimensionless parameters k\u00a0=\u00a02\u2009r/\u03c3 2, where k represents the balance between the rate of interests and the variability of stock returns and the dimensionless time to expiry \u00bd\u03c3 2 T, even though there are four dimensional parameters, E,\u2009\u2009T,\u2009\u03c3 2 and r, in the original statements of the problem.  According to the HPM [18\u201322], we construct the following homotopy  (32)    D t \u03b1  v \u2212 p  (   D x 2  v + ( k \u2212 1 )  D x  v \u2212 k v  )  = 0 ,    where the homotopy parameter p is considered as a small parameter  p \u2208 [ 0,1 ]  . Now applying the classical perturbation technique, we can assume that the solution of Eq. (32) can be expressed as power series in p as given below  (33)   v =  v 0  + p  v 1  +  p 2   v 2  +  p 3   v 2  + \u2026       Substituting (33) into (32) and equating the coefficients of like powers of p, we get the following set of differential equations that  (34)    p 0  :  D t \u03b1   v 0  ( x , t ) = 0 ,       (35)    p n  :  D t \u03b1   v n  ( x , t ) =  D x 2   v  n \u2212 1   ( x , t ) + ( k \u2212 1 )  D x   v  n \u2212 1   ( x , t ) \u2212 k  v  n \u2212 1   ( x , t ) ,  n \u2265 1 .       The above equations can be easily solved by applying the operator   J t \u03b1   to (34,35) giving the various components v  n (x,t) as       v 0  ( x , t ) = v ( x , 0 ) = max (  e x  \u2212 1,0 ) ,      v 1   ( x , t )  = \u2212 max  (  e x  , 0 )    ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   + max  (  e x  \u2212 1,0 )    ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   ,      v 2   ( x , t )  = \u2212 max  (  e x  , 0 )      ( \u2212 k  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   + max  (  e x  \u2212 1,0 )      ( \u2212 k  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   ,     \u22ee         Finally, we approximate the analytical solution v(x,t) by the series  v ( x , t ) =   lim   N \u2192 \u221e    \u2211  n = 0   N \u2212 1     v n  ( x , t )  ,  then we get    v  ( x , t )  = max  (  e x  , 0 )  \u2212 max  (  e x  , 0 )   (  1 +   ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   +     ( \u2212 k  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   + \u22ef  )  + max  (  e x  \u2212 1,0 )   (  1 +   ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   +     ( \u2212 k  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   + \u22ef  )     or    v  ( x , t )  = max  (  e x  , 0 )  \u2212 max  (  e x  , 0 )   \u2211  n = 0  \u221e       ( \u2212 k  t \u03b1  )  n    \u0393 ( n \u03b1 + 1 )    + max  (  e x  \u2212 1,0 )   \u2211  n = 0  \u221e       ( \u2212 k  t \u03b1  )  n    \u0393 ( n \u03b1 + 1 )    ,    and in closed form  (36)   v ( x , t ) = max (  e x  , 0 )  (  1 \u2212  E \u03b1  ( \u2212 k  t \u03b1  )  )  + max (  e x  \u2212 1,0 )  E \u03b1  ( \u2212 k  t \u03b1  ) .       This is the exact solution of the given problem of (31).  To solve the Eq. (31) by HAM, we choose the auxiliary operators as follows     L F  [ \u03d5 ( x , t ; q ) ] =  D t \u03b1  [ \u03d5 ( x , t ; q ) ] ,    with the property L  F [c 1]\u00a0=\u00a00.  Using the above definition, we first construct the zeroth-order deformation equations as  (37)   ( 1 \u2212 q )  L F  [ \u03d5 ( x , t ; q ) \u2212  \u03c7 m   v 0  ( x , t ) ] = \u210f q  N F  [ \u03d5 ( x , t ; q ) ] .       Obviously, when the embedding parameter q\u00a0=\u00a00 and q\u00a0=\u00a01, it holds  (38)   \u03d5 ( x , t ; 0 ) =  v 0  ( x , t ) ,  \u03d5 ( x , t ; 1 ) = v ( x , t ) .       Differentiating the zeroth-order deformation Eq. (37) m-times with respect to q and then dividing them by m! and finally setting q\u00a0=\u00a00, we get the following mth-order deformation equations  (39)    L F  [  v m  ( x , t ) \u2212  \u03c7 m   v  m \u2212 1   ( x , t ) ] = \u210f  \u211c m  (    u \u2192    m \u2212 1   ) ,    where  (40)    \u211c m   (    v \u2192    m \u2212 1   )  =    \u2202 \u03b1   v  m \u2212 1     \u2202  t \u03b1    \u2212    \u2202 2   v  m \u2212 1     \u2202  x 2    \u2212  ( k \u2212 1 )    \u2202  v  m \u2212 1     \u2202 x   + k  v  m \u2212 1   .       On applying the operator   J t \u03b1   both the sides of Eq. (39), we get  (41)    v m  ( x , t ) =  \u03c7 m   v  m \u2212 1   ( x , t ) + \u210f  \u211c m  (    u \u2192    m \u2212 1   ) ,    subsequently solving the mth-order deformation equations one has       v 0  ( x , t ) = max (  e x  \u2212 1,0 ) ,      v 1   ( x , t )  = \u210f max  (  e x  , 0 )    ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212 \u210f max  (  e x  \u2212 1,0 )    ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   ,      v 2   ( x , t )  = \u210f  ( 1 + \u210f )  max  (  e x  , 0 )    ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212 \u210f  ( 1 + \u210f )  max  (  e x  \u2212 1,0 )    ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212  \u210f 2  max  (  e x  , 0 )      ( \u2212 k  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   +  \u210f 2  max  (  e x  \u2212 1,0 )      ( \u2212 k  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   ,      and so on.  Therefore, the HAM series solution is  (42)   v  ( x , t )  = max  (  e x  \u2212 1,0 )  + \u210f max  (  e x  , 0 )    ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212 \u210f max  (  e x  \u2212 1,0 )    ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   + \u210f  ( 1 + \u210f )  max  (  e x  , 0 )    ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212 \u210f  ( 1 + \u210f )  max  (  e x  \u2212 1,0 )    ( \u2212 k  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212  \u210f 2  max  (  e x  , 0 )      ( \u2212 k  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   +  \u210f 2  max  (  e x  \u2212 1,0 )      ( \u2212 k  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   + \u2026       Taking \u210f\u00a0=\u00a0\u22121, we get the same solution as obtained by HPM.  Consider the vanilla call option with parameter [5]    \u03c3\u00a0=\u00a00.2,\u2009\u2009\u2009\u2009r\u00a0=\u00a00.04,\u2009\u2009\u2009\u2009\u03b1\u00a0=\u00a01,\u2009\u2009\u2009\u2009\u2009\u2009\u03c4\u00a0=\u00a00.5 years then k\u00a0=\u00a02.  In this case, we get the solution of Eq. (31)   (43)   v ( x , t ) = max (  e x  , 0 )  (  1 \u2212  e  \u2212 2 t    )  + max (  e x  \u2212 1,0 )  e  \u2212 2 t   .       This is the given exact solution of the standard Black\u2013Scholes equation.  In this case, we consider the vanilla call option with parameter [5]    \u03c3\u00a0=\u00a00.2,\u2009\u2009\u2009\u2009r\u00a0=\u00a00.01,\u2009\u2009\u2009\u2009\u03b1\u00a0=\u00a01,\u2009\u2009\u2009\u2009\u2009\u03c4\u00a0=\u00a01 year then k\u00a0=\u00a05.  We get the solution of Eq. (31)   (44)   v ( x , t ) = max (  e x  , 0 )  (  1 \u2212  e  \u2212 5 t    )  + max (  e x  \u2212 1,0 )  e  \u2212 5 t   .       This is the exact solution for the given case.  The numerical results for the fractional Black\u2013Scholes Eq. (31) obtained by using the HPM and HAM for various values of x and t, when \u03b1\u00a0=\u00a01 and k\u00a0=\u00a02 are shown by Fig.\u00a01 . It can be observed from Fig.\u00a01 that \u03bd(x,t) increases with the increase in both x and t.  In this example, we consider the following generalized Black\u2013Scholes equation as [6]   (45)      \u2202 \u03b1  v   \u2202  t \u03b1    + 0.08   ( 2 + sin  x )  2   x 2     \u2202 2  v   \u2202  x 2    + 0.06 x   \u2202 v   \u2202 x   \u2212 0.06 v = 0 ,  0 < \u03b1 \u2264 1 ,    with initial condition v(x,0)\u00a0=\u00a0max\u2009(x\u221225\u2009e \u22120.06,\u2009\u20090).  We construct the homotopy which satisfies the relation  (46)    D t \u03b1  v + p [ 0.08   ( 2 + sin  x )  2   x 2   D x 2  v + 0.06 x  D x  v \u2212 0.06 v ] = 0 ,  p \u2208 [ 0,1 ] .       Substituting (33) into (46) and equating the coefficients of like powers of p, we get following set of differential equations  (47)    p 0  :  D t \u03b1   v 0  ( x , t ) = 0 ,       (48)    p n  :  D t \u03b1   v n   ( x , t )  = \u2212  (  0.08   ( 2 + sin  x )  2   x 2   D x 2   v  n \u2212 1    ( x , t )  + 0.06 x  D x   v  n \u2212 1    ( x , t )  \u2212 0.06  v  n \u2212 1    ( x , t )   )  ,  n \u2265 1 .       Consequently, the above system of nonlinear equations can be easily solved by applying the operator   J t \u03b1   to (47,48) giving the various components v  n (x,t), thus enabling the series solution to be entirely determined. The first few components of the homotopy perturbation solution for Eq. (45) are derived as follows:       v 0  ( x , t ) = v ( x , 0 ) = max ( x \u2212 25  e  \u2212 0.06   ,  0 ) ,      v 1   ( x , t )  = \u2212   x ( 0.06  t \u03b1  )   \u0393 ( \u03b1 + 1 )   + max  ( x \u2212 25  e  \u2212 0.06   , 0 )    ( 0.06  t \u03b1  )   \u0393 ( \u03b1 + 1 )   ,      v 2   ( x , t )  = \u2212   x   ( 0.06  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   + max  ( x \u2212 25  e  \u2212 0.06   , 0 )      ( 0.06  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   ,     \u22ee      and so on.  Finally, we approximate the analytical solution v(x,t) by the series  v ( x , t ) =   lim   N \u2192 \u221e    v N  ( x , t ) ,  where   v N  ( x , t ) =  \u2211  n = 0   N \u2212 1     v n  ( x , t )  ,  then we get  (49)   v ( x , t ) = x ( 1 \u2212  E \u03b1  ( 0.06  t \u03b1  ) ) + max ( x \u2212 25  e  \u2212 0.06   , 0 )  E \u03b1  ( 0.06  t \u03b1  ) .    which is analytical solution of the fractional Black-Scholes Eq. (45).  To solve the Eq. (45) by HAM, we choose the auxiliary operators as follows     L F  [ \u03d5 ( x , t ; q ) ] =  D t \u03b1  [ \u03d5 ( x , t ; q ) ] ,    with the property L  F [c 1]\u00a0=\u00a00.  Using the above definition, we first construct the zeroth-order deformation equations as  (50)   ( 1 \u2212 q )  L F  [ \u03d5 ( x , t ; q ) \u2212  \u03c7 m   v 0  ( x , t ) ] = \u210f q  N F  [ \u03d5 ( x , t ; q ) ] .       Obviously, when the embedding parameter q\u00a0=\u00a00 and q\u00a0=\u00a01, it holds  (51)   \u03d5 ( x , t ; 0 ) =  v 0  ( x , t ) ,  \u03d5 ( x , t ; 1 ) = v ( x , t ) .       Differentiating the zeroth-order deformation Eq. (50) m-times with respect to q and then dividing them by m! and finally setting q\u00a0=\u00a00, we get the following mth-order deformation equations  (52)    L F  [  v m  ( x , t ) \u2212  \u03c7 m   v  m \u2212 1   ( x , t ) ] = \u210f  \u211c m  (    u \u2192    m \u2212 1   ) ,    where  (53)    \u211c m   (    u \u2192    m \u2212 1   )  =    \u2202 \u03b1   v  m \u2212 1     \u2202  t \u03b1    + 0.08   ( 2 + sin  x )  2   x 2     \u2202 2   v  m \u2212 1     \u2202  x 2    + 0.06 x   \u2202  v  m \u2212 1     \u2202 x   \u2212 0.06  v  m \u2212 1   .       On applying the operator   J t \u03b1   both the sides of Eq. (52), we get  (54)    v m  ( x , t ) =  \u03c7 m   v  m \u2212 1   ( x , t ) + \u210f  \u211c m  (    u \u2192    m \u2212 1   ) ,    subsequently solving the mth-order deformation equations one has       v 0  ( x , t ) = max ( x \u2212 25  e  \u2212 0.06   , 0 ) ,      v 1   ( x , t )  = \u210f x   ( 0.06  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212 \u210f max  ( x \u2212 25  e  \u2212 0.06   , 0 )    ( 0.06  t \u03b1  )   \u0393 ( \u03b1 + 1 )   ,      v 2   ( x , t )  = \u210f  ( 1 + \u210f )  x   ( 0.06  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212 \u210f  ( 1 + \u210f )  max  ( x \u2212 25  e  \u2212 0.06   , 0 )    ( 0.06  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212  \u210f 2  x     ( 0.06  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   +  \u210f 2  max  ( x \u2212 25  e  \u2212 0.06   , 0 )      ( 0.06  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   ,     \u22ee      and so on.  Therefore, the HAM series solution is  (55)   v  ( x , t )  = max  ( x \u2212 25  e  \u2212 0.06   , 0 )  + \u210f x   ( 0.06  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212 \u210f max  ( x \u2212 25  e  \u2212 0.06   , 0 )    ( 0.06  t \u03b1  )   \u0393 ( \u03b1 + 1 )   + \u210f  ( 1 + \u210f )  x   ( 0.06  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212 \u210f  ( 1 + \u210f )  max  ( x \u2212 25  e  \u2212 0.06   , 0 )    ( 0.06  t \u03b1  )   \u0393 ( \u03b1 + 1 )   \u2212  \u210f 2  x     ( 0.06  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   +  \u210f 2  max  ( x \u2212 25  e  \u2212 0.06   , 0 )      ( 0.06  t \u03b1  )  2    \u0393 ( 2 \u03b1 + 1 )   + \u22ef .       Taking \u210f\u00a0=\u00a0\u22121, we get the same solution as obtained by HPM.  In this study, the HPM and HAM are implemented to solve the time-fractional Black\u2013Scholes equation with boundary condition for a European option problem. They provide the solutions in terms of convergent series with easily computable components in a direct way without using linearization, perturbation or restrictive assumptions. The solution obtained with the help of HAM is more general as compared to HPM solution. We can easily recover all results HPM by assuming \u210f\u00a0=\u00a0\u22121. The results show that the HPM and HAM are powerful and efficient techniques in finding exact and approximate solutions for fractional differential equations. In conclusion, the HPM and HAM may be considered as a nice refinement in existing numerical techniques and might find the wide applications.   REFERENCES", "highlights": "The aim of present paper is to present a numerical algorithm for time-fractional Black\u2013Scholes equation with boundary condition for a European option problem by using homotopy perturbation method and homotopy analysis method. The fractional derivative is described in the Caputo sense. The methods give an analytic solution in the form of a convergent series with easily computable components, requiring no linearization or small perturbation. The methods show improvements over existing analytical techniques. Two examples are given and show that the homotopy perturbation method and homotopy analysis method are very effective and\u00a0convenient overcomes the difficulty of traditional methods. The numerical results show\u00a0that\u00a0the approaches are easy to implement and accurate when applied to time-fractional Black\u2013Scholes equation."}