@&#MAIN-TITLE@&#A feature-based method of rapidly detecting global exact symmetries in CAD models

@&#HIGHLIGHTS@&#


               
               
                  
                     
                        
                           
                           A feature-based method is proposed to rapidly detect the symmetries in CAD models.


                        
                        
                           
                           A study on the relationship between feature information and symmetries is conducted.


                        
                        
                           
                           How to determine the symmetries of the Boolean combinations of features is framed.


                        
                        
                           
                           Symmetries of numerous CAD models have been successfully detected by our approach.


                        
                     
                  
               
            

@&#KEYPHRASES@&#

CAD

Symmetry detection

Design feature

Merging symmetries

Verifying symmetries

@&#ABSTRACT@&#


                  Detecting global exact symmetries in CAD models is of great importance in the research of CAD/CAE integration. Therefore, a method is proposed in this paper to rapidly detect the global exact rotational and reflectional symmetries in feature-based CAD models. The theories of determining the symmetries of the Boolean combinations of the features are framed. Based on these theories, our approach is processed as follows. First, the features of the CAD models are classified into congruent feature sets. Next, through the study on the relationship between feature information and the symmetries of features, by using only feature information, as many symmetries of the feature sets as possible are detected. Then these feature sets are sorted into an ordered sequence. Finally, symmetries of the entire model can be derived by successively merging and verifying the symmetries of feature sets in the ordered sequence. Experimental results show that the global exact symmetries can be robustly and rapidly detected.
               

@&#INTRODUCTION@&#

Product symmetries are of great significance from the design stage to the downstream processing stages, such as manufacturing and engineering analysis. Therefore, detecting symmetries in CAD models is one of the most important issues in the integration studies of CAD/CAE/CAM. Firstly, detecting symmetries is of high importance in the analysis of design aesthetics. Secondly, symmetric partitioning can be achieved by recognizing the symmetries of the CAD models, which greatly reduces the scale of a finite element analysis. Thirdly, detecting symmetries can be used to optimize the manufacturing process, e.g. it can help locate the machining and assembly arms when the product needs to be machined and assembled. Lastly, in reverse engineering, analyzing symmetries can be used to detect the design intent of the CAD models.

Symmetries can be classified, in terms of the symmetry range, into global symmetries and local symmetries. A global symmetry is an isometry that maps the set onto itself. A local symmetry is an isometry that maps one portion onto another portion of the set. As for the symmetric extent, an approximate (or exact) symmetry is an isometry that maps the set approximately (or exactly) onto itself. Our paper’s purpose is to rapidly detect the global exact rotational and reflectional symmetries in CAD models, taking the following reasons in mind.
                        
                           (1)
                           The global exact symmetries exist widely in CAD models at the design stage.

The global symmetries are easy to be observed by human eyes in a simple CAD model but not in a complex one.

The exact symmetries cannot be observed by human eyes in any CAD model.

Detecting the global exact reflectional and rotational symmetries of CAD models is one of the most important approaches in simplifying models in CAD/CAE integration  [1].

Next, the previous work on detecting symmetries in CAD models is addressed as follows.

Tate and Jared  [2] devised an algorithm to detect the global exact reflectional and rotational symmetries by matching the loops of the regular B-Rep models. However, matching only the loop properties of the faces, such as the loop area, the loop type, the loop centroid and the loop normal, may lead to symmetry misdetection. This algorithm takes 
                        O
                        
                           (
                           
                              
                                 n
                              
                              
                                 4
                              
                           
                           )
                        
                      time, where 
                        n
                      indicates the number of faces in the B-Rep model.

In the work done by Li et al.  [3], all candidate global symmetry planes are initiated through the symmetry properties of the faces and their intersections. Then, the global exact reflectional symmetries of the model can be determined by merging all the candidate symmetries. The idea of merging two reflectional symmetries was first used in this work.

Based on the previous work  [4–8], Li et al.  [9] proposed a symmetry-recognizing method to detect the design intent in approximate B-Rep models created through reverse engineering. The local approximate symmetries, composed of seven symmetry types, are detected by detecting the incomplete symmetry cycles, which provides an efficient way to handle approximate tolerances due to the model approximation. With the symmetry cycles merged, the global symmetries of the model can be derived. The design intent can be robustly detected in 
                        O
                        
                           (
                           c
                           
                              
                                 n
                              
                              
                                 4
                              
                           
                           )
                        
                     , where 
                        c
                      is a constant and 
                        n
                      is the number of faces in the B-Rep model. Nevertheless, this method is an efficient way to detect local approximate symmetries but not a particular way to detect global exact symmetries.

The previous methods described above only attempt to detect the symmetries in regular CAD models, which are composed of planes and quadratic surfaces. Jiang et al.  [10] proposed a method to efficiently detect the local approximate rotational symmetries of free-from surfaces in B-Rep models. This work initially matches the boundaries of free-form surfaces so that most of the asymmetric free-form surfaces can be filtered out in advance, and consequently the scale of the subsequent time-consuming symmetry detection is greatly reduced. However, this method is not robust enough because its surface sampling approach has to depend on the parameterization of the surfaces.

In summary, all of the previous methods use the face as the basic unit of symmetry detection. The detection efficiency decreases sharply when the number of faces increases, even by a small amount. As a result, these methods are still far from being completely satisfactory for the end users.

Currently, the parametric feature-based modeling technique is becoming mature and has been widely adopted by most CAD modelers. A feature-based CAD model is created through the chronological Boolean combinations of finite features. Therefore, a feature-based CAD model contains not only the B-Rep representation but also the abundant feature information such as feature types, parameters, sketches, references and building histories. Some of the feature information explicitly contains symmetries such as the mirror plane of a mirror feature, the rotational axis of a circular pattern feature. While some symmetries are implicitly contained in the feature information such as the extrusion features’ extrusion lengths, the revolution features’ revolution angles and the 2D sketches of the sketch-based features. By making full use of the feature information and taking a feature as the basic unit for symmetry detection, the symmetries in the feature-based models can be detected much more efficiently compared with the existing methods. However, when using feature information to detect symmetries, the following two problems arise. (1) When detecting symmetries of the features, not all the symmetries can be detected by using only feature information. (2) After the symmetries of features have been detected, the rules to determine the symmetries of the Boolean combinations of the features have to be proposed. Based on the above-mentioned reasons and problems, a feature-based approach is presented in this paper to rapidly detect global exact rotational and reflectional symmetries in feature-based CAD models. For brevity, henceforth, symmetries, unless stated otherwise, we refer to global exact symmetries.

The remainder of this paper is organized as follows: definitions on the symmetries, introduction to design features, and theories used in our approach are given in Section  2. Our symmetry detection approach is outlined in Section  3. Details on each stage of our approach are described in Section  4. The experimental results and limitations are given in Section  5. This paper is concluded and our future work is discussed in Section  6.

The theories of determining the symmetries of the Boolean combinations of features are demonstrated in Section  2.2. Prior to that, the basic concepts are introduced in Section  2.1.


                        Reflectional symmetries and rotational symmetries: our approach is proposed to detect the rotational and reflectional symmetries of CAD models. These two kinds of symmetries were well defined in Jiang’s work  [11]. In Euclidean space 
                           
                              
                                 
                                    R
                                 
                              
                              
                                 3
                              
                           
                        , if an object 
                           M
                         is symmetric under a reflectional transformation 
                           T
                         with respect to a face 
                           b
                        , the object 
                           M
                         is said to be reflectionally symmetric with respect to 
                           b
                           ,
                           T
                         is denoted as 
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                         and 
                           M
                         has a reflectional symmetry 
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                        . In Euclidean space 
                           
                              
                                 
                                    R
                                 
                              
                              
                                 2
                              
                           
                           ,
                           b
                         is a line. In Euclidean space 
                           
                              
                                 
                                    R
                                 
                              
                              
                                 3
                              
                           
                        , if an object 
                           M
                         is symmetric under a rotational transformation 
                           T
                         of 
                           360
                           /
                           k
                         degrees about the axis line 
                           a
                        , where 
                           k
                         is an natural number, the object 
                           M
                         is called 
                           k
                        -fold rotationally symmetric with respect to 
                           a
                           ,
                           T
                         is denoted as 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 k
                              
                           
                         and 
                           M
                         has a rotational symmetry 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 k
                              
                           
                        . In Euclidean space 
                           
                              
                                 
                                    R
                                 
                              
                              
                                 2
                              
                           
                           ,
                           a
                         is a point.

There is a special kind of rotational symmetry. When 
                           k
                           →
                           ∞
                        , 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 k
                              
                           
                         is denoted as 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 ∞
                              
                           
                        , which indicates a rotational symmetry with respect to any rotation angle. In 2D, 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 ∞
                              
                           
                         indicates the rotational symmetry of a circle. In 3D, 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 ∞
                              
                           
                         indicates the rotational symmetry of a revolution body. In addition, any plane passing through the axis of a revolution body is a reflectional symmetry plane of this revolution body. Specifically, any line passing through a cylinder’s centroid and perpendicular to the cylinder’s axis is a 2-fold rotational symmetry axis. All the 2-fold rotational symmetries of this kind in a cylinder are denoted as 
                           
                              
                                 C
                              
                              
                                 o
                                 ,
                                 2
                                 ,
                                 ∞
                              
                           
                        , where 
                           o
                         is the cylinder’s centroid, 2 is the rotational fold, 
                           ∞
                         means there exist infinite rotational symmetries in 
                           
                              
                                 C
                              
                              
                                 o
                                 ,
                                 2
                                 ,
                                 ∞
                              
                           
                        . Besides, a one-fold rotational symmetry, which is an identity transformation, is not treated as a symmetry. In this paper, symmetries only refer to rotational or reflectional symmetries excluding one-fold rotational symmetries.


                        Self-symmetries and inter-symmetries: the set of all the rotational and reflectional symmetries, excluding one-fold rotational symmetries, in an object 
                           M
                         in 2D or 3D is said to be the self-symmetries of 
                           M
                        , or the symmetries of 
                           M
                        , denoted as 
                           S
                           
                              (
                              M
                              )
                           
                        . For every symmetry 
                           s
                           ∈
                           S
                           
                              (
                              M
                              )
                           
                        , we say that 
                           M
                        
                        satisfies symmetry 
                           s
                        .

For finite objects 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 M
                              
                              
                                 n
                              
                           
                         all in 2D or all in 3D, if there exists a rotational or reflectional transformation 
                           T
                         which satisfies the following two conditions: (1) 
                           T
                         is a permutation for the set 
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    M
                                 
                                 
                                    n
                                 
                              
                              }
                           
                        ; (2) 
                           T
                         is not the self-symmetry of any object in 
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    M
                                 
                                 
                                    n
                                 
                              
                              }
                           
                        , i.e. 
                           T
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    i
                                 
                              
                              )
                           
                           ≠
                           
                              
                                 M
                              
                              
                                 i
                              
                           
                           ,
                           
                           i
                           =
                           1
                           ,
                           2
                           ,
                           …
                           ,
                           n
                        , then 
                           T
                         is said to be an inter-symmetry of the object set 
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    M
                                 
                                 
                                    n
                                 
                              
                              }
                           
                        , or 
                           T
                         is said to be an inter-symmetry among the objects 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 M
                              
                              
                                 n
                              
                           
                        . The set of all the inter-symmetries of 
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    M
                                 
                                 
                                    n
                                 
                              
                              }
                           
                         is denoted as 
                           
                              
                                 S
                              
                              
                                 
                                    inter
                                 
                              
                           
                           
                              (
                              
                                 {
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       n
                                    
                                 
                                 }
                              
                              )
                           
                        .


                        
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    M
                                 
                                 
                                    n
                                 
                              
                              }
                           
                         can be treated as an object 
                           M
                        . Therefore, according to the definitions of self-symmetries and inter-symmetries, 
                           
                              
                                 S
                              
                              
                                 
                                    inter
                                 
                              
                           
                           
                              (
                              
                                 {
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       n
                                    
                                 
                                 }
                              
                              )
                           
                           ⊆
                           S
                           
                              (
                              
                                 {
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       n
                                    
                                 
                                 }
                              
                              )
                           
                        . For example, in Fig. 2.1
                        (a), among all the symmetries of 
                           S
                           
                              (
                              
                                 {
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       3
                                    
                                 
                                 }
                              
                              )
                           
                        , only symmetry 
                           
                              
                                 C
                              
                              
                                 o
                                 ,
                                 3
                              
                           
                         is the inter-symmetry of 
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    3
                                 
                              
                              }
                           
                        . Symmetries 
                           
                              
                                 Z
                              
                              
                                 a
                              
                           
                           ,
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                         and 
                           
                              
                                 Z
                              
                              
                                 c
                              
                           
                         are not the inter-symmetries of 
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    3
                                 
                              
                              }
                           
                        , e.g. 
                           
                              
                                 Z
                              
                              
                                 a
                              
                           
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                           =
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                           ,
                           
                              
                                 Z
                              
                              
                                 a
                              
                           
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                           =
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 Z
                              
                              
                                 a
                              
                           
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    3
                                 
                              
                              )
                           
                           =
                           
                              
                                 M
                              
                              
                                 3
                              
                           
                        . Consequently, 
                           
                              
                                 S
                              
                              
                                 
                                    inter
                                 
                              
                           
                           
                              (
                              
                                 {
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       3
                                    
                                 
                                 }
                              
                              )
                           
                           =
                           
                              {
                              
                                 
                                    C
                                 
                                 
                                    o
                                    ,
                                    3
                                 
                              
                              }
                           
                        . In addition, 
                           
                              
                                 Z
                              
                              
                                 a
                              
                           
                         is the inter-symmetry of 
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              }
                           
                         and the self-symmetry of 
                           
                              
                                 M
                              
                              
                                 3
                              
                           
                        . The other two examples are shown in Fig. 2.1(b)(c).


                        The relationship between congruence and inter-symmetries: two objects that can be transformed into each other by an isometry are said to be congruent   [12]. According to the definitions of congruence and inter-symmetries, the inter-symmetries can exist only among the objects which are congruent with each other, as shown in Fig. 2.1(a). And also, it is possible that there exist no inter-symmetries among the objects which are congruent with each other, as shown in Fig. 2.1(b). If the objects are not congruent with each other, there definitely exist no inter-symmetries among all these objects, as shown in Fig. 2.1(c). In addition, it can be seen that for an object set 
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    M
                                 
                                 
                                    n
                                 
                              
                              }
                           
                           ,
                           S
                           
                              (
                              
                                 {
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       M
                                    
                                    
                                       n
                                    
                                 
                                 }
                              
                              )
                           
                         depends on not only the self-symmetries of each object in 
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    M
                                 
                                 
                                    n
                                 
                              
                              }
                           
                         but also the inter-symmetries among the congruent objects in 
                           
                              {
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    M
                                 
                                 
                                    n
                                 
                              
                              }
                           
                        .


                        Design features: in this paper, the input CAD models are the models created by Boolean combinations of design features. The design features (for brevity, henceforth, we refer to design features as features) supported in this paper are: Pad, Shaft, Rib, Stiffener, Pocket, Slot, Shell, Groove, Hole, Fillet, Chamfer, Draft, Mirror and Pattern (Circular Pattern, Rectangular Pattern, User-defined Pattern). Pad, Pocket, Stiffener and Hole are created by extruding their profiles (or 2D Sketches) to some lengths along certain directions. Shaft and Groove are created by revolving their profiles (or 2D Sketches) to some angles about certain axes. Rib and Slot are created by sweeping their profiles (or 2D Sketches) along some paths. Mirror and Pattern copy features in certain geometric arrangements. Shell, Fillet, Chamfer and Draft are created by deleting or greatly changing the edges or faces of the current intermediate model. For example, after a Fillet feature is used, the filleted edges are deleted and also the neighboring faces of the filleted edges are greatly changed.

The union operation, denoted as 
                           ∪
                        , is a primary Boolean operation that combines features into the CAD model. A Pad, Shaft or Rib feature is performed through a union operation with the current intermediate model if the designer needs to add materials. A Pocket, Groove, Slot, Hole or Shell feature is performed through a union operation with the current intermediate model if the designer needs to subtract materials. A Fillet or Chamfer feature adds or subtracts materials depending on whether its referred topological elements are concave or convex. The models composed of the features supported by this paper cover most of the CAD models made up of planes and quadratic faces.


                        Bad design habits: the building history of a feature-based CAD model greatly depends on the design habits of the designers, among which the bad design habits, as summarized below, are found to be rarely used in feature-based modeling.

(1) Redundant feature modeling. In a CAD model 
                           M
                        , if a feature or a portion of a feature is deleted, or two features with the same feature type are substituted by one feature of this feature type, the geometrical shape of model 
                           M
                         remains unchanged, then the modeling process of model 
                           M
                         is called redundant feature modeling. Fig. 2.2
                         shows some redundant and non-redundant feature modeling cases. As shown in Fig. 2.2(a), if two Pad features Pad.1 and Pad.2 are substituted by one Pad feature Pad.3, model 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         remains unchanged. As shown in Fig. 2.2(b), feature Pocket.1 is fully wrapped by feature Pad.2 which is fully wrapped by feature Pad.1, therefore, the process of building model 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         can be simplified by using only Pad.1. As shown in Fig. 2.2(c), if Pad.2’s portion which is inside Pad.1 is deleted, model 
                           
                              
                                 M
                              
                              
                                 3
                              
                           
                         remains unchanged. Therefore, the process of building model 
                           
                              
                                 M
                              
                              
                                 3
                              
                           
                         can be simplified by using Pad.3 instead of Pad.2.

(2) The local symmetric shapes of the CAD model are built by using non-symmetric features, which is a bad design habit and rarely used in practice. As shown in Fig. 2.3
                        (a)–(c), two local symmetric shapes (highlighted and symmetric under 
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                        ) are built by three different design habits. Fig. 2.3(a) shows a bad design habit. The usual design processes to build these two local symmetric shapes are shown in Fig. 2.3(b) and (c). Another example is shown in Fig. 2.3(d)–(f). Fig. 2.3(d) shows a bad design habit. The usual design processes to build these two local symmetric shapes are shown in Fig. 2.3(e) and (f).

In summary, the two kinds of bad design habits discussed above are rarely used in engineering. Therefore, to assure the correctness of the theories in the next section, these bad design habits are not considered in this paper.

This section discusses the theories of computing 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        , where 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         satisfy the following three conditions. 
                           Condition 1
                           
                              
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                               and 
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                               are two volumetric objects in 3D.


                        
                           Condition 2
                           
                              
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                               is built by the unions of features. The same applies to 
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                              .


                        
                           Condition 3
                           For any feature 
                                 
                                    
                                       f
                                    
                                    
                                       i
                                    
                                 
                               that is used to build 
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                               and any 
                                 
                                    
                                       f
                                    
                                    
                                       j
                                    
                                 
                               that is used to build 
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       f
                                    
                                    
                                       i
                                    
                                 
                               and 
                                 
                                    
                                       f
                                    
                                    
                                       j
                                    
                                 
                               are incongruent.

In the late sections, these theories are used to detect the symmetries of a feature set, to sort feature sets and to determine the symmetries in the Boolean combinations of feature sets of CAD models. Note that the bad design habits, which are discussed in Section  2.1, are excluded when these theories are discussed. If not specified, in this section, 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         are assumed to satisfy Conditions 1–3.

First, based on the definitions of self-symmetries and inter-symmetries, as discussed in Section  2.1, 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         depends only on the self-symmetries of 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        , the self-symmetries of 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         and the inter-symmetries between 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                        . With the limitation of Condition 3, 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         are incongruent. Thus, there exist no inter-symmetries between 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                        . So, 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         depends only on 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        .

Next, let us discuss how to compute 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         in a special case that 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                           =
                           Φ
                         or 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                           =
                           Φ
                        . In this case, if 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                           ≠
                           Φ
                        , then it can be seen that 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         or 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         must have been built by using the bad design habits, as discussed in Section  2.1. Since the bad design habits are excluded, then we have: if 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                           =
                           Φ
                         or 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                           =
                           Φ
                        , then 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                           =
                           Φ
                        .

In the remainder of this section, assume that 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         is known and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                           ≠
                           Φ
                        , how to compute 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is to be discussed in the following three cases: (1) 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is known; (2) 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is unknown; (3) 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is partly known.

(1) 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        
                        is known.

First, we are going to discuss how to merge two symmetries, which is the basis of computing 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         when both 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         are known. Before that, a definition is given below.


                        
                           Definition 1
                           Weaker/Stronger Relation between Two Symmetries


                           Let 
                                 M
                               be an object in 3D and 
                                 S
                                 
                                    (
                                    M
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          s
                                       
                                       
                                          1
                                       
                                    
                                    }
                                 
                              . If 
                                 M
                               is symmetric under 
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                              , then we say 
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                               is no stronger than 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                              , and 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                               is no weaker than 
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                              , which is denoted as 
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                                 ⩽
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                               or 
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 ⩾
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                              .

For example, if an object is symmetric under 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 8
                              
                           
                        , then this object must be symmetric under 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 2
                              
                           
                         and 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 4
                              
                           
                        . Therefore, the symmetries weaker than 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 8
                              
                           
                         are 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 2
                              
                           
                         and 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 4
                              
                           
                        . Specifically, the null symmetry 
                           ϕ
                         is the weakest symmetry among all symmetries.

The cases that the symmetries are weaker than the symmetry 
                           s
                         are discussed below. (1) If 
                           s
                           =
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                        , then there exists no symmetries weaker than 
                           s
                        . (2) If 
                           s
                           =
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 k
                              
                           
                         and 
                           k
                           ≠
                           ∞
                        , then the weaker symmetries are 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 l
                              
                           
                        , where 
                           gcd
                           
                              (
                              k
                              ,
                              l
                              )
                           
                           =
                           l
                         and 
                           l
                           ⩾
                           2
                           ,
                           gcd
                           
                              (
                              k
                              ,
                              l
                              )
                           
                         means the greatest common divisor of natural number 
                           k
                         and 
                           l
                        . (3) If 
                           s
                           =
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 ∞
                              
                           
                        , then the weaker symmetries are 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 l
                              
                           
                           
                           
                              (
                              l
                              ≠
                              ∞
                              )
                           
                         or 
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                         (plane 
                           b
                         passes through axis 
                           a
                        ).

Given two symmetries 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                        , the strongest symmetry 
                           s
                         among the ones that are no stronger than 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                        , is called the merging of
                        
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                        
                        and
                        
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                        , denoted as 
                           s
                           =
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                        . According to Definition 1, the cases that 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                           ≠
                           ϕ
                         are given in Table 2.1
                        . In the other cases that are not shown in Table 2.1, 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                           =
                           ϕ
                        . If 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                           ≠
                           ϕ
                        , then 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                         (or  
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                        ) is said to be successfully merged by 
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                         (or  
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                        ).

Next, let us discuss the relationship between the symmetries in 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         and the symmetries in 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                        . Let 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         satisfy both Conditions 1 and 2. For any symmetry 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           ∈
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         and any symmetry 
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                           ∈
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        , if 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                         is not null, 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                         denotes the strongest symmetry among the ones under which both 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         are symmetric. Besides, by excluding the bad design habits discussed in Section  2.1, as shown in Fig. 2.4
                        , we can see that the union of 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         is symmetric under 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                         in all the cases that 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                           ≠
                           ϕ
                        . So, we have: 
                           
                              (1)
                              
                                 
                                    
                                       s
                                    
                                    
                                       1
                                    
                                 
                                 ∪
                                 
                                    
                                       s
                                    
                                    
                                       2
                                    
                                 
                                 ∈
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    ∪
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                                 .
                              
                           
                        
                     

In Fig. 2.4(a), Formula (1) holds for 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                        , where 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         is built by using a triangular Pad feature and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         is built by using a triangular Pocket feature. In Fig. 2.4(g), Formula (1) holds for 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                        , which are built by respectively using two circular Pad features which are congruent with each other.

Finally, we discuss how to compute 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         by using only 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        , where 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         satisfy Conditions 1–3. Let 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                           =
                           
                              {
                              
                                 
                                    s
                                 
                                 
                                    11
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    12
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    s
                                 
                                 
                                    1
                                    n
                                 
                              
                              }
                           
                           ,
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                           =
                           
                              {
                              
                                 
                                    s
                                 
                                 
                                    21
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    22
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    s
                                 
                                 
                                    2
                                    m
                                 
                              
                              }
                           
                        , for any 
                           
                              
                                 s
                              
                              
                                 1
                                 i
                              
                           
                           ,
                           
                              
                                 s
                              
                              
                                 1
                                 j
                              
                           
                           ∈
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                           ,
                           1
                           ⩽
                           i
                           ,
                           j
                           ⩽
                           n
                           ,
                           
                           i
                           ≠
                           j
                        , let 
                           
                              
                                 s
                              
                              
                                 1
                                 i
                              
                           
                           ∪
                           
                              
                                 s
                              
                              
                                 1
                                 j
                              
                           
                         be null, the same applies to 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        . Since Condition 3 is satisfied by 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                        , then there exist no inter-symmetries between 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         depends only on 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        . Therefore, according to Formula (1), all the symmetries in 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         can be derived by computing the merging of all the distinct pairwise symmetries 
                           
                              
                                 s
                              
                              
                                 1
                                 i
                              
                           
                           ∈
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         and 
                           
                              
                                 s
                              
                              
                                 2
                                 j
                              
                           
                           ∈
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        , i.e. 
                           
                              (2)
                              
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    ∪
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                                 =
                                 
                                    {
                                    
                                       
                                          s
                                       
                                       
                                          1
                                          i
                                       
                                    
                                    ∪
                                    
                                       
                                          s
                                       
                                       
                                          2
                                          j
                                       
                                    
                                    ∣
                                    
                                       
                                          s
                                       
                                       
                                          1
                                          i
                                       
                                    
                                    ∈
                                    S
                                    
                                       (
                                       
                                          
                                             M
                                          
                                          
                                             1
                                          
                                       
                                       )
                                    
                                    ,
                                    
                                       
                                          s
                                       
                                       
                                          2
                                          j
                                       
                                    
                                    ∈
                                    S
                                    
                                       (
                                       
                                          
                                             M
                                          
                                          
                                             2
                                          
                                       
                                       )
                                    
                                    ,
                                    i
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    …
                                    ,
                                    n
                                    ,
                                    
                                    j
                                    =
                                    1
                                    ,
                                    2
                                    ,
                                    …
                                    ,
                                    m
                                    .
                                    }
                                 
                                 .
                              
                           
                        
                     

Then, if both 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         are known, 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         can be computed by using the following Approach 1. 
                           Approach 1
                           Let 
                                 A
                               be a null symmetry set, select the first symmetry 
                                 
                                    
                                       s
                                    
                                    
                                       11
                                    
                                 
                               in 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                              , compute the merging of 
                                 
                                    
                                       s
                                    
                                    
                                       11
                                    
                                 
                               and the symmetries in 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                               one by one. If 
                                 
                                    
                                       s
                                    
                                    
                                       11
                                    
                                 
                               can be successfully merged by 
                                 
                                    
                                       s
                                    
                                    
                                       2
                                       j
                                    
                                 
                               in 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                              , then we know there exist no other symmetries in 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                               that can successfully merge 
                                 
                                    
                                       s
                                    
                                    
                                       11
                                    
                                 
                              , thus add 
                                 
                                    
                                       s
                                    
                                    
                                       11
                                    
                                 
                                 ∪
                                 
                                    
                                       s
                                    
                                    
                                       2
                                       j
                                    
                                 
                               to 
                                 A
                              . Then, handle the next symmetry 
                                 
                                    
                                       s
                                    
                                    
                                       12
                                    
                                 
                               in 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                               as we do with 
                                 
                                    
                                       s
                                    
                                    
                                       11
                                    
                                 
                                 ,
                                 …
                              , until the last symmetry in 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                              . Finally, 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    ∪
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                                 =
                                 A
                              .

For the convenience of future reference, for any two symmetry sets 
                           
                              
                                 S
                              
                              
                                 1
                              
                           
                           =
                           
                              {
                              
                                 
                                    s
                                 
                                 
                                    11
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    12
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    s
                                 
                                 
                                    1
                                    n
                                 
                              
                              }
                           
                         and 
                           
                              
                                 S
                              
                              
                                 2
                              
                           
                           =
                           
                              {
                              
                                 
                                    s
                                 
                                 
                                    21
                                 
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    22
                                 
                              
                              ,
                              …
                              ,
                              
                                 
                                    s
                                 
                                 
                                    2
                                    m
                                 
                              
                              }
                           
                        , the symmetry set 
                           
                              {
                              
                                 
                                    s
                                 
                                 
                                    1
                                    i
                                 
                              
                              ∪
                              
                                 
                                    s
                                 
                                 
                                    2
                                    j
                                 
                              
                              ∣
                              
                                 
                                    s
                                 
                                 
                                    1
                                    i
                                 
                              
                              ∈
                              S
                              
                                 (
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                                 )
                              
                              ,
                              
                                 
                                    s
                                 
                                 
                                    2
                                    j
                                 
                              
                              ∈
                              S
                              
                                 (
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                                 )
                              
                              ,
                              
                              i
                              =
                              1
                              ,
                              2
                              ,
                              …
                              ,
                              n
                              ,
                              j
                              =
                              1
                              ,
                              2
                              ,
                              …
                              ,
                              m
                              }
                           
                         is called the result of merging
                        
                           
                              
                                 S
                              
                              
                                 1
                              
                           
                        
                        and
                        
                           
                              
                                 S
                              
                              
                                 2
                              
                           
                        , denoted as 
                           
                              
                                 S
                              
                              
                                 1
                              
                           
                           
                              
                                 ∪
                              
                              
                                 S
                              
                           
                           
                              
                                 S
                              
                              
                                 2
                              
                           
                        .

(2) 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        
                        is unknown.

If 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         is known and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is unknown, a direct but time-consuming method to compute 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is to firstly detect the symmetries of 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         by using the face-based methods. Then 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is known. Therefore, 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         can be obtained by using Approach 1. In comparison with this method, a more efficient approach is proposed in this paper to obtain 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         when 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         is known and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is unknown. Before that, a definition is introduced below. 
                           Definition 2
                           Weaker/Stronger Relation between Two Symmetry Sets


                           Let 
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                               and 
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                               be two objects in 3D. For any 
                                 
                                    
                                       s
                                    
                                    
                                       i
                                    
                                 
                                 ∈
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                              , if 
                                 
                                    
                                       M
                                    
                                    
                                       1
                                    
                                 
                               is symmetric under 
                                 
                                    
                                       s
                                    
                                    
                                       i
                                    
                                 
                              , then we say 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                               is no stronger than 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                               and 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                               is no weaker than 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                              , which is denoted as 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                                 ⩽
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                               or 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                                 ⩾
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                              .

According to Formula (2), we know that any symmetry 
                           s
                         in 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is the merging result of one symmetry, let us say 
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                        , in 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         and one symmetry, let us say 
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                        , in 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        , i.e. 
                           s
                           =
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                        . Then 
                           s
                           ⩽
                           
                              
                                 s
                              
                              
                                 1
                              
                           
                         and 
                           s
                           ⩽
                           
                              
                                 s
                              
                              
                                 2
                              
                           
                        . Based on Definition 1, both 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         are symmetric under 
                           s
                        . Therefore, based on Definition 2, it can be inferred that 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                           ⩾
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                           ⩾
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        .

So, when 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         is known and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is unknown, 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         can be obtained by verifying whether 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                           ∪
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         satisfies the symmetries which are no stronger than those of 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                        . Then, it follows Approach 2. 
                           Approach 2
                           First, if there exists an infinite-fold rotational symmetry 
                                 
                                    
                                       C
                                    
                                    
                                       a
                                       ,
                                       ∞
                                    
                                 
                               in 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                               which is not satisfied by 
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                              , perform Approach 2.1 to obtain 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    ∪
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                              ; otherwise, perform Approach 2.2 to obtain 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    ∪
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                              .


                        
                           Approach 2.1
                           Use Li  [9]’s method to detect the symmetries of 
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                               and then 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    ∪
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                               can be obtained by using Approach 1.


                        
                           Approach 2.2
                           Let 
                                 A
                               be a null symmetry set, for every symmetry 
                                 s
                                 ∈
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                              , 
                                 
                                    (1)
                                    if 
                                          s
                                        is a reflectional symmetry and is satisfied by 
                                          
                                             
                                                M
                                             
                                             
                                                2
                                             
                                          
                                       , then add 
                                          s
                                        to 
                                          A
                                       ;

if 
                                          s
                                        is a rotational symmetry 
                                          
                                             
                                                C
                                             
                                             
                                                a
                                                ,
                                                k
                                             
                                          
                                          ,
                                          
                                          k
                                          ≠
                                          ∞
                                       , then sort the symmetries no stronger than 
                                          
                                             
                                                C
                                             
                                             
                                                a
                                                ,
                                                k
                                             
                                          
                                        into an ordered sequence 
                                          
                                             
                                                s
                                             
                                             
                                                1
                                             
                                          
                                          →
                                          
                                             
                                                s
                                             
                                             
                                                2
                                             
                                          
                                          ,
                                          …
                                          ,
                                          →
                                          
                                             
                                                s
                                             
                                             
                                                n
                                             
                                          
                                       , where their rotational folds are in a descending order. Check the symmetry along this sequence till we find the first one that is satisfied by 
                                          
                                             
                                                M
                                             
                                             
                                                2
                                             
                                          
                                        (if there exists), then add this one to 
                                          A
                                       ;

if 
                                          s
                                        is a rotational symmetry 
                                          
                                             
                                                C
                                             
                                             
                                                a
                                                ,
                                                ∞
                                             
                                          
                                       , then add 
                                          
                                             
                                                C
                                             
                                             
                                                a
                                                ,
                                                ∞
                                             
                                          
                                        to 
                                          A
                                       ;

Finally, 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                           =
                           A
                        .

For example, let 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                           =
                           
                              {
                              
                                 
                                    Z
                                 
                                 
                                    b
                                 
                              
                              ,
                              
                                 
                                    C
                                 
                                 
                                    a
                                    ,
                                    24
                                 
                              
                              }
                           
                         and 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         be unknown. First, there exists no 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 ∞
                              
                           
                         in 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                        . Then let 
                           A
                         be a null symmetry set, 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         can be obtained by Approach 2.2. For 
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                         in 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                        , suppose 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         satisfies 
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                        , then add 
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                         to 
                           A
                        ; For 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 24
                              
                           
                         in 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                        , sort the symmetries no stronger than 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 24
                              
                           
                         into an ordered sequence 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 24
                              
                           
                           →
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 12
                              
                           
                           →
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 8
                              
                           
                           →
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 6
                              
                           
                           →
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 4
                              
                           
                           →
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 3
                              
                           
                           →
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 2
                              
                           
                        . Check the symmetry along this sequence till we find the first one that is satisfied by 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         (if there exists). Suppose 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 24
                              
                           
                         and 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 12
                              
                           
                         are not satisfied by 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         but 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 8
                              
                           
                         is satisfied by 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                        , then add 
                           
                              
                                 C
                              
                              
                                 a
                                 ,
                                 8
                              
                           
                         to 
                           A
                        . Finally, 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                           =
                           A
                           =
                           
                              {
                              
                                 
                                    Z
                                 
                                 
                                    b
                                 
                              
                              ,
                              
                                 
                                    C
                                 
                                 
                                    a
                                    ,
                                    8
                                 
                              
                              }
                           
                        .

(3) 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        
                        is partly known.

If 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         is known and only a part of 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         (denoted as 
                           
                              PS
                           
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        ) is known, the approach to obtain 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                         is demonstrated as follows. 
                           Approach 3
                           First, merge 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                               and 
                                 
                                    PS
                                 
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                               by Approach 1. The merging result is denoted as 
                                 A
                              . The symmetries of 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                               that cannot be successfully merged by those of 
                                 
                                    PS
                                 
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                               are denoted as 
                                 
                                    RS
                                 
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                              . The symmetries in 
                                 
                                    RS
                                 
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                               may be successfully merged by those in 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                                 –
                                 
                                    PS
                                 
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                              . However, 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                                 –
                                 
                                    PS
                                 
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                               is unknown. Consequently, we then verify whether 
                                 
                                    
                                       M
                                    
                                    
                                       2
                                    
                                 
                               satisfies the symmetries which are no stronger than those of 
                                 
                                    RS
                                 
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                               by Approach 2. The verifying result is denoted as 
                                 B
                              . Then 
                                 S
                                 
                                    (
                                    
                                       
                                          M
                                       
                                       
                                          1
                                       
                                    
                                    ∪
                                    
                                       
                                          M
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                                 =
                                 A
                                 ∪
                                 B
                              , where 
                                 ∪
                               denotes the union operation of two sets.

Given a feature-based CAD model 
                        M
                      as input and the symmetries of 
                        M
                      are unknown, our approach aims at rapidly detecting and outputting all the global exact rotational and reflectional symmetries of model 
                        M
                     . The main idea of our approach is to detect as many symmetries in the features of model 
                        M
                      as possible by using only feature information, and then use the rules of determining symmetries of the Boolean combinations of the features to derive all the symmetries of model 
                        M
                     .

The symmetries of a CAD model depend on not only the self-symmetries of its features, but also the inter-symmetries among its congruent features. Fig. 3.1
                     (a) shows a building history of a CAD model 
                        M
                     . The symmetries of model 
                        M
                      are shown in Fig. 3.1(b). The symmetries of model 
                        M
                      depend on not only the self-symmetries of the features Pad.1, Pad.2, Fillet.1, Fillet.2, Pad.3, Pocket.1, Fillet.3 and Stiffener.1, e.g. 
                        
                           
                              Z
                           
                           
                              b
                           
                        
                        ∈
                        S
                      ({Pad.1}), but also the inter-symmetries between the features Hole.1 and Hole.2, e.g. 
                        
                           
                              Z
                           
                           
                              b
                           
                        
                        ∈
                        
                           
                              S
                           
                           
                              
                                 inter
                              
                           
                        
                      ({Hole.1, Hole.2}). To detect the inter-symmetries among the congruent features, all the features should be classified into the congruent feature sets. For example, in Fig. 3.1(a), Hole.1 and Hole.2 are congruent; therefore they should be classified into the same congruent feature set.

By using only feature information, we can easily and rapidly detect as many symmetries in a feature set as possible. However, not all the symmetries in a feature set can be detected by using only feature information. For example, the inter-symmetries 
                        
                           
                              Z
                           
                           
                              b
                           
                        
                      between Hole.1 and Hole.2 in Fig. 3.1(a) cannot be detected by using only the feature information of Hole.1 and Hole.2. Therefore, the geometric shapes of the features, which can be described by its real faces, are used to detect the symmetries of the feature sets. The real faces of feature 
                        f
                      are the faces belonging to feature 
                        f
                      in the next intermediate model  [13]. By constructing the parent–child relationships of the topological elements in the model, the real faces of the feature set can be correctly derived. In Fig. 3.1(a), Hole.1’s real faces in the next intermediate model are highlighted. By using the rules of merging and verifying the symmetries of feature sets, finally, the symmetries of the model can be derived. To minimize the operations of merging and verifying symmetries, we choose a reasonable order to handle these feature sets. Next, the overall steps of our approach are given below.


                     
                        
                           Step 1:
                           Construct the parent–child relationships of the topological elements in the model.

Classify the model features into congruent feature sets.

Detect symmetries of feature sets by using only feature information.

Sort the feature sets into an ordered sequence.

Merge and verify the symmetries of feature sets in the ordered sequence.

In this section, the overall steps are described in greater detail.

When adding a feature 
                           f
                         into the current intermediate model, the topological elements of feature 
                           f
                         may be merged, split or modified. The two corresponding topological elements, respectively, belonging to neighboring design stages, have a parent–child relationship. For example, after adding Pad.2 to Pad.1, as shown in Fig. 4.1
                        (a), the faces 
                           
                              
                                 f
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 f
                              
                              
                                 2
                              
                           
                         are unchanged. The faces 
                           
                              
                                 f
                              
                              
                                 3
                              
                           
                         and 
                           
                              
                                 f
                              
                              
                                 4
                              
                           
                         are merged into 
                           
                              
                                 f
                              
                              
                                 5
                              
                           
                        . Therefore, 
                           
                              
                                 f
                              
                              
                                 5
                              
                           
                         has two fathers: 
                           
                              
                                 f
                              
                              
                                 3
                              
                           
                         and 
                           
                              
                                 f
                              
                              
                                 4
                              
                           
                        . 
                           
                              
                                 f
                              
                              
                                 3
                              
                           
                         and 
                           
                              
                                 f
                              
                              
                                 4
                              
                           
                         have the same child: 
                           
                              
                                 f
                              
                              
                                 5
                              
                           
                        . Fig. 4.1(b) shows the real faces of Pad.2. In CAD systems, the unchanged real faces, such as 
                           
                              
                                 f
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 f
                              
                              
                                 2
                              
                           
                         in Fig. 4.1(b), can be easily derived. Nevertheless, the changed real faces, such as 
                           
                              
                                 f
                              
                              
                                 5
                              
                           
                         in Fig. 4.1(b), are hard to be derived. To solve this problem, the parent–child relationships of topological elements need to be constructed.

The parent–child relationships can be constructed by using a persistent naming mechanism. However, the existing naming methods are too imperfect  [14–17] to correctly construct the parent–child relationship. Furthermore, the naming mechanisms are not fully open to the programmers  [18].

Based on the reasons above, a simple approach is proposed to construct the parent–child relationships. The details on this approach are beyond the scope of this paper. In general, this approach successively compares the IDs, geometrical types, and bounding boxes of distinct pairwise topological elements to gradually filter out most of the topological elements without the parent–child relationships. The parent–child relationships can be finally determined by accurately comparing the characteristic point sets  [5] of the topological elements.

To detect the inter-symmetries among the congruent features, the features of the input model are classified into the congruent feature sets. For any feature 
                           
                              
                                 f
                              
                              
                                 i
                              
                           
                         and 
                           
                              
                                 f
                              
                              
                                 j
                              
                           
                        , which belong to different feature sets, respectively, 
                           
                              
                                 f
                              
                              
                                 i
                              
                           
                         and 
                           
                              
                                 f
                              
                              
                                 j
                              
                           
                         are incongruent. By making full use of feature information, the features can be rapidly classified into the feature sets.

Let all the features of the input model be 
                           
                              
                                 f
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 f
                              
                              
                                 2
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 f
                              
                              
                                 n
                              
                           
                         and for every distinct pairwise features 
                           
                              
                                 f
                              
                              
                                 i
                              
                           
                         and 
                           
                              
                                 f
                              
                              
                                 j
                              
                           
                           ,
                           
                           1
                           ⩽
                           i
                           ,
                           j
                           ⩽
                           n
                           ,
                           i
                           ≠
                           j
                        , perform the following steps to classify all the features into the feature sets. 
                           
                              Step 1:
                              If 
                                    
                                       
                                          f
                                       
                                       
                                          i
                                       
                                    
                                  and 
                                    
                                       
                                          f
                                       
                                       
                                          j
                                       
                                    
                                  have different feature types, 
                                    
                                       
                                          f
                                       
                                       
                                          i
                                       
                                    
                                  and 
                                    
                                       
                                          f
                                       
                                       
                                          j
                                       
                                    
                                  are incongruent; otherwise, perform step 2.

If 
                                    
                                       
                                          f
                                       
                                       
                                          i
                                       
                                    
                                  and 
                                    
                                       
                                          f
                                       
                                       
                                          j
                                       
                                    
                                  have a replicate relationship because of using a Mirror or Pattern feature, perform step 5; otherwise, perform step 3.

If 
                                    
                                       
                                          f
                                       
                                       
                                          i
                                       
                                    
                                  and 
                                    
                                       
                                          f
                                       
                                       
                                          j
                                       
                                    
                                  are sketch-based and their sketches are incongruent, 
                                    
                                       
                                          f
                                       
                                       
                                          i
                                       
                                    
                                  and 
                                    
                                       
                                          f
                                       
                                       
                                          j
                                       
                                    
                                  are incongruent; otherwise, perform step 4.

If the corresponding feature information, except feature types and sketch information, of 
                                    
                                       
                                          f
                                       
                                       
                                          i
                                       
                                    
                                  and 
                                    
                                       
                                          f
                                       
                                       
                                          j
                                       
                                    
                                  is the same, then perform step 5; otherwise, 
                                    
                                       
                                          f
                                       
                                       
                                          i
                                       
                                    
                                  and 
                                    
                                       
                                          f
                                       
                                       
                                          j
                                       
                                    
                                  are incongruent.

Put 
                                    
                                       
                                          f
                                       
                                       
                                          i
                                       
                                    
                                  and 
                                    
                                       
                                          f
                                       
                                       
                                          j
                                       
                                    
                                  into the same feature set.

In Step 3, whether two 2D sketches are congruent can be determined as follows. First, the incongruent sketches are filtered out by comparing the numbers and types of sketch elements. Then, Atallah’s  [19] algorithm is used to exactly determine whether two sketches are congruent.

For example, if the two Pad features’ sketches, extrusion types and extrusion lengths are the same, they are congruent and should be put into the same feature set. If the two Fillets’ radiuses are the same, there may be inter-symmetries between them and should be put into the same feature set as well.

After the above steps are executed, the features 
                           
                              
                                 f
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 f
                              
                              
                                 2
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 f
                              
                              
                                 n
                              
                           
                         are classified into the feature sets: 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 1
                              
                           
                           ,
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 2
                              
                           
                           ,
                           …
                           ,
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 m
                              
                           
                        , where 
                           m
                           ≤
                           n
                        .

Similar to a CAD model, the symmetries of a feature set depend on not only the symmetries of each feature but also the inter-symmetries among the features in this feature set. The main idea is to rapidly detect as many symmetries of a feature set as possible by using only feature information instead of the face-based methods. Before introducing the approaches of detecting the symmetries of a feature set, we first discuss how to detect the symmetries of a feature.

In this paper, the relationship between the feature information and the symmetries of features is studied to detect symmetries in the features supported by our approach. For example, the symmetries of a Pad, Pocket, Stiffener or Hole feature can be detected by using its feature information composed of its extrusion type, extrusion length, extrusion direction and 2D sketch. The symmetries of a Shaft or Groove feature can be detected by using its feature information composed of its revolution angle, revolution axis and 2D sketch.

The following are the details on how to detect the symmetries of a Pad feature 
                              
                                 
                                    f
                                 
                                 
                                    
                                       Pad
                                    
                                 
                              
                            by using the feature information of 
                              
                                 
                                    f
                                 
                                 
                                    
                                       Pad
                                    
                                 
                              
                           . Let 
                              A
                            be a null symmetry set. First, detect the symmetries in the sketch of 
                              
                                 
                                    f
                                 
                                 
                                    
                                       Pad
                                    
                                 
                              
                           . Then check the detected symmetries in this sketch. If there exists a symmetry 
                              
                                 
                                    Z
                                 
                                 
                                    l
                                 
                              
                            in this sketch, add a reflectional symmetry 
                              
                                 
                                    Z
                                 
                                 
                                    c
                                 
                              
                            to 
                              A
                           , where 
                              c
                            is a plane created by extruding line 
                              l
                            along the extrusion direction, as shown in Fig. 4.2
                           (a). If there exists a rotational symmetry 
                              
                                 
                                    C
                                 
                                 
                                    d
                                    ,
                                    k
                                 
                              
                            in this sketch, add a rotational symmetry 
                              
                                 
                                    C
                                 
                                 
                                    e
                                    ,
                                    k
                                 
                              
                            to 
                              A
                           , where 
                              e
                            is a line created by extruding point 
                              d
                            along the extrusion direction, as shown in Fig. 4.2(b). If 
                              
                                 
                                    f
                                 
                                 
                                    
                                       Pad
                                    
                                 
                              
                            is extruded in a fixed extrusion length, add a reflectional symmetry 
                              
                                 
                                    Z
                                 
                                 
                                    b
                                 
                              
                            to 
                              A
                           , where plane 
                              b
                            is created by translating the sketch plane till to the half of the extrusion length along the extrusion direction, as shown in Fig. 4.2(a). If there exist two perpendicular reflectional planes in 
                              
                                 
                                    f
                                 
                                 
                                    
                                       Pad
                                    
                                 
                              
                           , add 
                              
                                 
                                    C
                                 
                                 
                                    a
                                    ,
                                    2
                                 
                              
                            to 
                              A
                           , where line 
                              a
                            is the intersection of these two perpendicular reflectional planes, as shown in Fig. 4.2(a). If there exists a reflectional plane perpendicular to an infinite-fold rotational axis line in 
                              
                                 
                                    f
                                 
                                 
                                    
                                       Pad
                                    
                                 
                              
                           , add 
                              
                                 
                                    C
                                 
                                 
                                    o
                                    ,
                                    2
                                    ,
                                    ∞
                                 
                              
                            into 
                              A
                           , where 
                              o
                            is the intersection of this reflectional plane with this infinite-fold rotational axis. In Fig. 4.2(b), the reflectional plane 
                              f
                            is perpendicular to the infinite-fold rotational axis 
                              e
                           , then add 
                              
                                 
                                    C
                                 
                                 
                                    o
                                    ,
                                    2
                                    ,
                                    ∞
                                 
                              
                            to 
                              A
                           , where point 
                              o
                            is the intersection of axis 
                              e
                            with plane 
                              f
                           . Finally, 
                              S
                              
                                 (
                                 
                                    
                                       f
                                    
                                    
                                       
                                          Pad
                                       
                                    
                                 
                                 )
                              
                              =
                              A
                           .

In addition, by employing Atallah’s  [20] optimal method of detecting symmetries of 2D shapes, the symmetries of a 2D sketch can be detected in 
                              O
                              
                                 (
                                 n
                                 log
                                 n
                                 )
                              
                           . A thorough discussion on detecting the symmetries of the other features by using their feature information is beyond the scope of this paper. In general, as many symmetries (or self-symmetries) of the features as possible can be rapidly detected by using only their feature information.

In the cases below, not all of the features’ symmetries can be detected by using only feature information.


                           Case 1: Feature intersection. For example, in Fig. 4.3
                           (a), Pocket.1 is created by extruding its 2D sketch to a fixed length and it cuts Pad.1 from the top face of Pad.1. Thus the extrusion length can be derived from the Pocket.1’s parameters. So, all the symmetries 
                              
                                 {
                                 
                                    
                                       Z
                                    
                                    
                                       a
                                    
                                 
                                 ,
                                 
                                    
                                       Z
                                    
                                    
                                       b
                                    
                                 
                                 ,
                                 
                                    
                                       Z
                                    
                                    
                                       c
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       d
                                       ,
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       e
                                       ,
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       f
                                       ,
                                       2
                                    
                                 
                                 }
                              
                            of Pocket.1 can be detected by using only Pocket.1’s feature information.

In Fig. 4.3(b), Pocket.1 is created by extruding its 2D sketch to cut off all the materials from Pad.1’s top face along the extrusion direction of Pocket.1. Thus, Pocket.1 can be treated as a feature that is created by extruding its 2D sketch to an infinite length. So, the extrusion length cannot be determined by any parameter of Pocket.1. Therefore, it is uncertain whether Pocket.1 is symmetric with respect to the plane similar to the plane 
                              b
                            in Fig. 4.3(a). It is also uncertain whether Pocket.1 is symmetric with respect to the 2-fold rotational axes similar to the axes 
                              e
                            and 
                              f
                            in Fig. 4.3(a). Thereby, in this case, only the symmetries 
                              
                                 {
                                 
                                    
                                       Z
                                    
                                    
                                       a
                                    
                                 
                                 ,
                                 
                                    
                                       Z
                                    
                                    
                                       c
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       d
                                       ,
                                       2
                                    
                                 
                                 }
                              
                            of Pocket.1 can be detected by using Pocket.1’s feature information. And the other three symmetries 
                              
                                 {
                                 
                                    
                                       Z
                                    
                                    
                                       b
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       e
                                       ,
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       C
                                    
                                    
                                       f
                                       ,
                                       2
                                    
                                 
                                 }
                              
                            are undetermined.

A Stiffener feature is created by intersecting with the other features. For example, in Fig. 4.3(c), Stiffener.1 is created by extruding its 2D profile that is composed of edges 
                              
                                 
                                    e
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    e
                                 
                                 
                                    2
                                 
                              
                              ,
                              
                                 
                                    e
                                 
                                 
                                    3
                                 
                              
                           , where 
                              
                                 
                                    e
                                 
                                 
                                    1
                                 
                              
                            makes up the sketch of Stiffener.1 and 
                              
                                 
                                    e
                                 
                                 
                                    2
                                 
                              
                              ,
                              
                                 
                                    e
                                 
                                 
                                    3
                                 
                              
                            are created by the intersections of the sketch plane of Stiffener.1 with the faces of Pad.1 so as to make a closed loop with 
                              
                                 
                                    e
                                 
                                 
                                    1
                                 
                              
                           . The feature information of Stiffener.1 is composed of its sketch, extrusion direction and extrusion length. Consequently, the 2D profile of Stiffener.1 cannot be derived by using only Stiffener.1’s feature information. Therefore, no matter how the Stiffener’s feature information is to be set, not all of Stiffener’s symmetries can be detected by using only its feature information.


                           Case 2: Topological reference. To derive the symmetries of Shell, Fillet, Chamfer and Draft features, the symmetries should be detected in its topological elements that must be deleted. For example, in Fig. 4.3(d), the Chamfer.1 is created by chamfering four edges 
                              
                                 
                                    e
                                 
                                 
                                    1
                                 
                              
                              ,
                              
                                 
                                    e
                                 
                                 
                                    2
                                 
                              
                              ,
                              
                                 
                                    e
                                 
                                 
                                    3
                                 
                              
                              ,
                              
                                 
                                    e
                                 
                                 
                                    4
                                 
                              
                            in Pad.1. The symmetries of Chamfer.1 are shown in Fig. 4.3(e). We can see that 
                              S
                              
                                 (
                                 
                                    {
                                    
                                       
                                          e
                                       
                                       
                                          1
                                       
                                    
                                    ,
                                    
                                       
                                          e
                                       
                                       
                                          2
                                       
                                    
                                    ,
                                    
                                       
                                          e
                                       
                                       
                                          3
                                       
                                    
                                    ,
                                    
                                       
                                          e
                                       
                                       
                                          4
                                       
                                    
                                    }
                                 
                                 )
                              
                              =
                              S
                              
                                 (
                                 
                                    {
                                    
                                       Chamfer
                                    
                                    .
                                    1
                                    }
                                 
                                 )
                              
                           . Thus, without using the face-based methods to detect the symmetries in 
                              
                                 {
                                 
                                    
                                       e
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       e
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       e
                                    
                                    
                                       3
                                    
                                 
                                 ,
                                 
                                    
                                       e
                                    
                                    
                                       4
                                    
                                 
                                 }
                              
                           , none of the symmetries of Chamfer.1 can be determined.


                           Case 3: Inter-symmetries among congruent features. In a feature set, if some features are not replicated to the other features in this feature set by a Mirror or Pattern feature, then none of the inter-symmetries among these features can be detected by using only feature information of themselves. For example, in Fig. 4.3(f), 
                              S
                              
                                 (
                                 
                                    {
                                    
                                       Hole
                                    
                                    .
                                    1
                                    ,
                                    
                                       Hole
                                    
                                    .
                                    2
                                    }
                                 
                                 )
                              
                            is shown in the right. If one of these two holes is not replicated to another by a Mirror or Pattern feature, then no symmetry in 
                              
                                 
                                    S
                                 
                                 
                                    
                                       inter
                                    
                                 
                              
                              
                                 (
                                 
                                    {
                                    
                                       Hole
                                    
                                    .
                                    1
                                    ,
                                    
                                       Hole
                                    
                                    .
                                    2
                                    }
                                 
                                 )
                              
                            can be detected by using only the feature information of Hole.1 and Hole.2.

The set of the detected symmetries, which can be detected by using only feature information, of a feature or a feature set 
                              B
                            are denoted as 
                              
                                 
                                    S
                                 
                                 
                                    d
                                 
                              
                              
                                 (
                                 B
                                 )
                              
                           . Given a feature set 
                              
                                 FS
                              
                              =
                              
                                 {
                                 
                                    
                                       f
                                    
                                    
                                       1
                                    
                                 
                                 ,
                                 
                                    
                                       f
                                    
                                    
                                       2
                                    
                                 
                                 ,
                                 …
                                 ,
                                 
                                    
                                       f
                                    
                                    
                                       u
                                    
                                 
                                 }
                              
                           , the approach of deriving 
                              
                                 
                                    S
                                 
                                 
                                    d
                                 
                              
                              
                                 (
                                 
                                    FS
                                 
                                 )
                              
                            is given below. 
                              
                                 (1)
                                 If 
                                       u
                                       =
                                       1
                                    , then 
                                       
                                          
                                             S
                                          
                                          
                                             d
                                          
                                       
                                       
                                          (
                                          
                                             FS
                                          
                                          )
                                       
                                       =
                                       
                                          
                                             S
                                          
                                          
                                             d
                                          
                                       
                                       
                                          (
                                          
                                             
                                                f
                                             
                                             
                                                1
                                             
                                          
                                          )
                                       
                                    , where 
                                       
                                          
                                             S
                                          
                                          
                                             d
                                          
                                       
                                       
                                          (
                                          
                                             
                                                f
                                             
                                             
                                                1
                                             
                                          
                                          )
                                       
                                     can be derived as discussed in Section  4.3.1.

If 
                                       u
                                       ⩾
                                       2
                                    , then check whether feature 
                                       
                                          
                                             f
                                          
                                          
                                             i
                                          
                                       
                                       ,
                                       i
                                       =
                                       1
                                       ,
                                       2
                                       ,
                                       …
                                       ,
                                       u
                                    , in FS belongs to a Mirror or Pattern feature, which means 
                                       
                                          
                                             f
                                          
                                          
                                             i
                                          
                                       
                                     is replicated by or the replication result of a Mirror or Pattern feature. The set of features that belong to the same Mirror or Pattern feature is denoted as SFMP. The feature that does not belong to any Mirror or Pattern feature is called a single feature, denoted as SF. For a SFMP, 
                                       
                                          
                                             S
                                          
                                          
                                             d
                                          
                                       
                                       
                                          (
                                          
                                             SFMP
                                          
                                          )
                                       
                                     can be derived by using only the feature information of each feature in this SFMP and the feature information of the corresponding Mirror or Pattern feature. Then, a SFMP or SF is taken as a unit for symmetry detection, denoted as USD. Suppose that 
                                       
                                          FS
                                       
                                       =
                                       
                                          {
                                          
                                             
                                                
                                                   USD
                                                
                                             
                                             
                                                1
                                             
                                          
                                          ,
                                          
                                             
                                                
                                                   USD
                                                
                                             
                                             
                                                2
                                             
                                          
                                          ,
                                          …
                                          ,
                                          
                                             
                                                
                                                   USD
                                                
                                             
                                             
                                                q
                                             
                                          
                                          }
                                       
                                       ,
                                       
                                       q
                                       ≤
                                       u
                                    , the shape of FS can be treated as the union of all the USDs. Besides, 
                                       
                                          
                                             
                                                USD
                                             
                                          
                                          
                                             1
                                          
                                       
                                       ∪
                                       
                                          
                                             
                                                USD
                                             
                                          
                                          
                                             2
                                          
                                       
                                       ∪
                                       ⋯
                                       ∪
                                       
                                          
                                             
                                                USD
                                             
                                          
                                          
                                             q
                                          
                                       
                                       =
                                       
                                          (
                                          
                                             (
                                             
                                                
                                                   
                                                      USD
                                                   
                                                
                                                
                                                   1
                                                
                                             
                                             ∪
                                             
                                                
                                                   
                                                      USD
                                                   
                                                
                                                
                                                   2
                                                
                                             
                                             )
                                          
                                          ∪
                                          ⋯
                                          )
                                       
                                       ∪
                                       
                                          
                                             
                                                USD
                                             
                                          
                                          
                                             q
                                          
                                       
                                    . According to Formula (1) and the definition of the merging of two symmetry sets in Section  2.2, it can be inferred that 
                                       
                                          (
                                          
                                             (
                                             
                                                
                                                   S
                                                
                                                
                                                   d
                                                
                                             
                                             
                                                (
                                                
                                                   
                                                      
                                                         USD
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                                )
                                             
                                             
                                                
                                                   ∪
                                                
                                                
                                                   S
                                                
                                             
                                             
                                                
                                                   S
                                                
                                                
                                                   d
                                                
                                             
                                             
                                                (
                                                
                                                   
                                                      
                                                         USD
                                                      
                                                   
                                                   
                                                      2
                                                   
                                                
                                                )
                                             
                                             )
                                          
                                          
                                             
                                                ∪
                                             
                                             
                                                S
                                             
                                          
                                          ⋯
                                          )
                                       
                                       
                                          
                                             ∪
                                          
                                          
                                             S
                                          
                                       
                                       
                                          
                                             S
                                          
                                          
                                             d
                                          
                                       
                                       
                                          (
                                          
                                             
                                                
                                                   USD
                                                
                                             
                                             
                                                q
                                             
                                          
                                          )
                                       
                                       ⊆
                                       S
                                       
                                          (
                                          
                                             FS
                                          
                                          )
                                       
                                    . Then Approach 1 is used for 
                                       q
                                       −
                                       1
                                     times to compute 
                                       
                                          (
                                          
                                             (
                                             
                                                
                                                   S
                                                
                                                
                                                   d
                                                
                                             
                                             
                                                (
                                                
                                                   
                                                      
                                                         USD
                                                      
                                                   
                                                   
                                                      1
                                                   
                                                
                                                )
                                             
                                             
                                                
                                                   ∪
                                                
                                                
                                                   S
                                                
                                             
                                             
                                                
                                                   S
                                                
                                                
                                                   d
                                                
                                             
                                             
                                                (
                                                
                                                   
                                                      
                                                         USD
                                                      
                                                   
                                                   
                                                      2
                                                   
                                                
                                                )
                                             
                                             )
                                          
                                          
                                             
                                                ∪
                                             
                                             
                                                S
                                             
                                          
                                          ⋯
                                          )
                                       
                                       
                                          
                                             ∪
                                          
                                          
                                             S
                                          
                                       
                                       
                                          
                                             S
                                          
                                          
                                             d
                                          
                                       
                                       
                                          (
                                          
                                             
                                                
                                                   USD
                                                
                                             
                                             
                                                q
                                             
                                          
                                          )
                                       
                                     and the computation result is 
                                       
                                          
                                             S
                                          
                                          
                                             d
                                          
                                       
                                       
                                          (
                                          
                                             FS
                                          
                                          )
                                       
                                    .

After 
                              
                                 
                                    S
                                 
                                 
                                    d
                                 
                              
                              
                                 (
                                 
                                    FS
                                 
                                 )
                              
                            has been derived by using the above approach, we need further to determine whether none of, part of, or all of the symmetries of a feature set FS have been detected. And then, 
                              S
                              
                                 (
                                 
                                    FS
                                 
                                 )
                              
                            can be tagged correspondingly as undetermined, partly determined or determined. Then, it follows the approach as below. 
                              
                                 (1)
                                 If 
                                       
                                          
                                             S
                                          
                                          
                                             d
                                          
                                       
                                       
                                          (
                                          
                                             FS
                                          
                                          )
                                       
                                       =
                                       Φ
                                    , it means none of the symmetries of a feature set FS has been detected by using only feature information, then 
                                       S
                                       
                                          (
                                          
                                             FS
                                          
                                          )
                                       
                                     is tagged as undetermined.

If 
                                       
                                          
                                             S
                                          
                                          
                                             d
                                          
                                       
                                       
                                          (
                                          
                                             FS
                                          
                                          )
                                       
                                       ≠
                                       Φ
                                    , there are two cases (2.1) and (2.2) as below. 
                                       
                                          (2.1)
                                          If there exists Case 1, Case 2 or Case 3, as discussed in Section  4.3.2, in FS, it means that not all of the symmetries of FS have been detected by using only feature information, then 
                                                S
                                                
                                                   (
                                                   
                                                      FS
                                                   
                                                   )
                                                
                                              is tagged as partly determined.

If there does not exist Cases 1–3, as discussed in Section  4.3.2, in FS, it means that all of the symmetries of FS have been detected by using only feature information, i.e. 
                                                S
                                                
                                                   (
                                                   
                                                      FS
                                                   
                                                   )
                                                
                                                =
                                                
                                                   
                                                      S
                                                   
                                                   
                                                      d
                                                   
                                                
                                                
                                                   (
                                                   
                                                      FS
                                                   
                                                   )
                                                
                                             , then 
                                                S
                                                
                                                   (
                                                   
                                                      FS
                                                   
                                                   )
                                                
                                              is tagged as determined.

One example is shown in Fig. 4.4
                           (a)–(d). In this example, both Pad.1 and Pad.2 belong to Mirror.1 which is a Mirror feature that mirrors the features with respect to plane 
                              b
                           . Therefore, {Pad.1, Pad.2} is a SFMP. Then 
                              
                                 
                                    S
                                 
                                 
                                    d
                                 
                              
                              
                                 (
                                 
                                    
                                       
                                          FS
                                       
                                    
                                    
                                       1
                                    
                                 
                                 )
                              
                              =
                              
                                 
                                    S
                                 
                                 
                                    d
                                 
                              
                              
                                 (
                                 
                                    
                                       
                                          USD
                                       
                                    
                                    
                                       1
                                    
                                 
                                 )
                              
                              
                                 
                                    ∪
                                 
                                 
                                    S
                                 
                              
                              
                                 
                                    S
                                 
                                 
                                    d
                                 
                              
                              
                                 (
                                 
                                    
                                       
                                          USD
                                       
                                    
                                    
                                       2
                                    
                                 
                                 )
                              
                              =
                              
                                 {
                                 
                                    
                                       C
                                    
                                    
                                       a
                                       ,
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       Z
                                    
                                    
                                       b
                                    
                                 
                                 ,
                                 
                                    
                                       Z
                                    
                                    
                                       c
                                    
                                 
                                 }
                              
                           . In another example, as shown in Fig. 4.4(e)–(g), none of the features in 
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    2
                                 
                              
                            belongs to any Mirror or Pattern feature. Then, 
                              
                                 
                                    S
                                 
                                 
                                    d
                                 
                              
                              
                                 (
                                 
                                    
                                       
                                          FS
                                       
                                    
                                    
                                       2
                                    
                                 
                                 )
                              
                              =
                              
                                 (
                                 
                                    
                                       S
                                    
                                    
                                       d
                                    
                                 
                                 
                                    (
                                    
                                       
                                          
                                             USD
                                          
                                       
                                       
                                          1
                                       
                                    
                                    )
                                 
                                 
                                    
                                       ∪
                                    
                                    
                                       S
                                    
                                 
                                 
                                    
                                       S
                                    
                                    
                                       d
                                    
                                 
                                 
                                    (
                                    
                                       
                                          
                                             USD
                                          
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                                 )
                              
                              
                                 
                                    ∪
                                 
                                 
                                    S
                                 
                              
                              
                                 
                                    S
                                 
                                 
                                    d
                                 
                              
                              
                                 (
                                 
                                    
                                       
                                          USD
                                       
                                    
                                    
                                       3
                                    
                                 
                                 )
                              
                              =
                              
                                 {
                                 
                                    
                                       Z
                                    
                                    
                                       c
                                    
                                 
                                 }
                              
                              
                                 
                                    ∪
                                 
                                 
                                    S
                                 
                              
                              
                                 {
                                 
                                    
                                       C
                                    
                                    
                                       a
                                       ,
                                       2
                                    
                                 
                                 ,
                                 
                                    
                                       Z
                                    
                                    
                                       b
                                    
                                 
                                 ,
                                 
                                    
                                       Z
                                    
                                    
                                       c
                                    
                                 
                                 }
                              
                              =
                              
                                 {
                                 
                                    
                                       Z
                                    
                                    
                                       c
                                    
                                 
                                 }
                              
                           . In comparison, by using only feature information, more symmetries can be detected in 
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    1
                                 
                              
                           , it is because that 
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    1
                                 
                              
                            has more feature information than 
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    2
                                 
                              
                            does, i.e. the feature information of Mirror.1 can be used to detect the inter-symmetries of {Pad.1, Pad.2}, which, however, cannot be detected by using only feature information in 
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    2
                                 
                              
                           . Therefore, a conclusion is drawn that our approach makes full use of feature information to rapidly detect as many symmetries of a feature set as possible.

In this section, to make sure that the unnecessary operations of merging and verifying symmetries in the next step can be avoided, a step is taken forward to discuss how to sort the feature sets.

First, since verifying symmetries is far more time-consuming than merging symmetries, the feature sets with more undetermined symmetries are put behind the feature sets with less undetermined symmetries. Therefore, the priority should be given to the feature sets with symmetries determined, then to feature sets with symmetries partly determined, and then to the features sets with symmetries undetermined.

Second, it can be seen that 
                           
                              (3)
                              
                                 S
                                 
                                    (
                                    M
                                    )
                                 
                                 =
                                 S
                                 
                                    (
                                    
                                       
                                          
                                             FS
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ∪
                                    
                                       
                                          
                                             FS
                                          
                                       
                                       
                                          2
                                       
                                    
                                    ∪
                                    ⋯
                                    ∪
                                    
                                       
                                          
                                             FS
                                          
                                       
                                       
                                          m
                                       
                                    
                                    )
                                 
                                 =
                                 S
                                 
                                    (
                                    
                                       (
                                       
                                          (
                                          
                                             
                                                
                                                   FS
                                                
                                             
                                             
                                                1
                                             
                                          
                                          ∪
                                          
                                             
                                                
                                                   FS
                                                
                                             
                                             
                                                2
                                             
                                          
                                          )
                                       
                                       ∪
                                       ⋯
                                       )
                                    
                                    ∪
                                    
                                       
                                          
                                             FS
                                          
                                       
                                       
                                          m
                                       
                                    
                                    )
                                 
                                 .
                              
                           
                        
                     

Then, based on the discussion in Section  2.2, it can be inferred that 
                           S
                           
                              (
                              M
                              )
                           
                           ⩽
                           S
                           
                              (
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    i
                                 
                              
                              )
                           
                           ,
                           
                           i
                           =
                           1
                           ,
                           2
                           ,
                           …
                           ,
                           m
                        . Therefore, the earlier the feature sets with weaker symmetries are handled, the more unnecessary operations of merging and verifying can be avoided to determine the symmetries of the model. Consequently, if 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 i
                              
                           
                         and 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 j
                              
                           
                           ,
                           
                           i
                           ,
                           j
                           =
                           1
                           ,
                           2
                           ,
                           …
                           ,
                           m
                         and 
                           i
                           ≠
                           j
                        , have the same number of undetermined symmetries, and 
                           
                              
                                 S
                              
                              
                                 d
                              
                           
                           
                              (
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    i
                                 
                              
                              )
                           
                           ⩽
                           
                              
                                 S
                              
                              
                                 d
                              
                           
                           
                              (
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    j
                                 
                              
                              )
                           
                        , then 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 i
                              
                           
                         is put before 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 j
                              
                           
                         in the ordered sequence.

At last, the feature sets are sorted. It can be seen that the sorting results may not be unique. If there exist more than one ordered sequence, choose any one for handling. Whichever sequence being chosen, the unnecessary operations of merging and verifying symmetries in the next step can be avoided.

Suppose all the feature sets of a CAD model 
                           M
                         are sorted into the ordered sequence: 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 1
                              
                           
                           →
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 2
                              
                           
                           ⋯
                           →
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 m
                              
                           
                        , in this section, the details on merging and verifying symmetries of the feature sets are to be discussed.

Based on Formula (3), the problem of computing 
                           S
                           
                              (
                              M
                              )
                           
                         can be reduced to computing the symmetries of 
                           
                              (
                              
                                 (
                                 
                                    (
                                    
                                       
                                          
                                             FS
                                          
                                       
                                       
                                          1
                                       
                                    
                                    ∪
                                    
                                       
                                          
                                             FS
                                          
                                       
                                       
                                          2
                                       
                                    
                                    )
                                 
                                 ⋯
                                 )
                              
                              ∪
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    i
                                 
                              
                              )
                           
                           ∪
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 i
                                 +
                                 1
                              
                           
                        , the variable 
                           i
                         equals 
                           1
                           ,
                           2
                           ,
                           …
                         until 
                           m
                           −
                           1
                        , where 
                           
                              (
                              
                                 (
                                 
                                    
                                       
                                          FS
                                       
                                    
                                    
                                       1
                                    
                                 
                                 ∪
                                 
                                    
                                       
                                          FS
                                       
                                    
                                    
                                       2
                                    
                                 
                                 )
                              
                              ⋯
                              )
                           
                           ∪
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 i
                              
                           
                         is taken as the current intermediate model CIM and 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 i
                                 +
                                 1
                              
                           
                         is taken as the current feature set CFS. Finally, 
                           S
                           
                              (
                              M
                              )
                           
                         equals the last 
                           S
                           
                              (
                              
                                 CIM
                              
                              ∪
                              
                                 CFS
                              
                              )
                           
                        , i.e. at this stage, 
                           i
                           =
                           m
                           −
                           1
                        . During these processes, according to the discussion on the special case of “
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    1
                                 
                              
                              )
                           
                           =
                           Φ
                         or 
                           S
                           
                              (
                              
                                 
                                    M
                                 
                                 
                                    2
                                 
                              
                              )
                           
                           =
                           Φ
                        ” in Section  2.2, whenever 
                           S
                           
                              (
                              
                                 CIM
                              
                              ∪
                              
                                 CFS
                              
                              )
                           
                         is null, the whole program will be terminated and the result is “no symmetries”, which means the model 
                           M
                         contains no rotational or reflectional symmetries.

Before computing 
                           S
                           
                              (
                              
                                 CIM
                              
                              ∪
                              
                                 CFS
                              
                              )
                           
                        , it is known that 
                           S
                           
                              (
                              
                                 CIM
                              
                              )
                           
                         has been computed in the last stage and has already been determined. Besides, by using only feature information, as many symmetries of each feature set as possible have been detected in Step 3 of the overall steps. Therefore, 
                           S
                           
                              (
                              
                                 CFS
                              
                              )
                           
                         may be determined (i.e. 
                           S
                           
                              (
                              
                                 CFS
                              
                              )
                           
                           =
                           
                              
                                 S
                              
                              
                                 d
                              
                           
                           
                              (
                              
                                 CFS
                              
                              )
                           
                        ), undetermined or partly determined (i.e. the part of 
                           S
                           
                              (
                              
                                 CFS
                              
                              )
                           
                         that has been detected is 
                           
                              
                                 S
                              
                              
                                 d
                              
                           
                           
                              (
                              
                                 CFS
                              
                              )
                           
                        ). And also, based on the feature classification, it is known that CIM and CFS satisfy Conditions 1–3 in Section  2.2. Therefore, 
                           S
                           
                              (
                              
                                 CIM
                              
                              ∪
                              
                                 CFS
                              
                              )
                           
                         can be computed by using the corresponding one of Approachs 1–3 in Section  2.2. Especially, at the stage of computing 
                           S
                           
                              (
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    1
                                 
                              
                              ∪
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    2
                                 
                              
                              )
                           
                        , to make sure that 
                           S
                           
                              (
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         is determined, if not all of the symmetries of 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 1
                              
                           
                         have been detected by using only its feature information, then Li  [9]’s algorithm is used to detect the symmetries in the real faces of 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 1
                              
                           
                        . Thus, 
                           S
                           
                              (
                              
                                 
                                    
                                       FS
                                    
                                 
                                 
                                    1
                                 
                              
                              )
                           
                         can be derived. As a matter of fact, since 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 1
                              
                           
                         is sorted as the first feature set in the order sequence, and then in most cases, the symmetries of 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 1
                              
                           
                         can be detected by using only its feature information.

When verifying whether CFS satisfies symmetries, if CFS is a Shell, Fillet, Chamfer or Draft feature set, the referred topological elements, such as the filleted edges of Fillet features, the removed faces of Shell features and the drafted faces of Draft features, are verified; otherwise the real faces of CFS are verified. Due to space constraints, the details on verifying symmetries are not further discussed. In general, the characteristic points  [5] of the topological elements (real faces or referred topological elements) are extracted to verify whether they can be carried onto themselves under the symmetries.

Using a 2.8 GHz i5-2300 CPU with 4G RAM, the experiments were implemented by using “Visual Studio 2005” integrated with the “CAA and RADE” toolkit for the application development of CATIA v5 R19.

Experiment 1 was performed for the purpose of validating the correctness of each processing stage of our approach. Fig. 5.1
                         shows the building history of the input base model 
                           M
                        . The next intermediate model is derived by adding the feature shown over the arrow, which lies on the right side of the current intermediate model. The real faces of the features are highlighted. The base model includes 19 features. In the application development environment of CATIA, the features in a CAD model comprise not only the features in the feature tree, but also the replicating results of the Mirror or Pattern features. For example, the base model has 18 features, not 15 features, where Hole.2 is the result of mirroring Hole.1 by Mirror.1. Hole.5 and Hole.6 are the results of mirroring Hole.3 and Hole.4 by Mirror.2.

In total, it took 250 ms to detect the symmetries of the input model 
                           M
                        . Table 5.1
                         shows the result of each processing stage. After checking the feature information of the features in model 
                           M
                        , the following facts were found. The sketches of Pad.1 and Pad.2 were incongruent. The radius of Fillet.1 was different from that of every Fillet in 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 5
                              
                           
                        . The radius of each hole in 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 6
                              
                           
                         was different from that of each hole in 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 7
                              
                           
                        . Hence, the result of feature classification in Table 5.1 is correct. Both the 2D sketches of Pad.1 and Pad.2 were extruded to the fixed lengths, and consequently symmetries of 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 1
                              
                           
                         and 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 3
                              
                           
                         were determined. The detected symmetries 
                           
                              {
                              
                                 
                                    Z
                                 
                                 
                                    b
                                 
                              
                              ,
                              
                                 
                                    Z
                                 
                                 
                                    c
                                 
                              
                              ,
                              
                                 
                                    C
                                 
                                 
                                    a
                                    ,
                                    2
                                 
                              
                              }
                           
                         of Pad.1 are shown in Fig. 5.2
                        (a). The 2D profiles of Pocket.1, Hole.1, Hole.2, Hole.3, Hole.4, Hole.5 and Hole.6 were extruded to cut off all the materials along their extrusion directions. Therefore, the symmetries of 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 2
                              
                           
                           ,
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 6
                              
                           
                         and 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 7
                              
                           
                         were partly determined. The detected symmetry of Pocket.1 was 
                           
                              
                                 C
                              
                              
                                 d
                                 ,
                                 ∞
                              
                           
                        , as shown in Fig. 5.2(b). Both 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 4
                              
                           
                         and 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 5
                              
                           
                         were Fillet feature sets, so their symmetries cannot be determined by using only feature information. Consequently, the result of detecting symmetries of each feature set is correct. According to the discussion in Section  4.4, it can be seen that, in Table 5.1, the result of sorting the feature sets is correct.

At the stage “Merging and verifying symmetries”, in Table 5.1, SSM indicates the symmetries of 
                           S
                           
                              (
                              
                                 CIM
                              
                              )
                           
                         that were successfully merged by those of CFS. SV indicates the symmetries of 
                           S
                           
                              (
                              
                                 CIM
                              
                              )
                           
                         to be verified. In fact, 
                           
                              SV
                           
                           =
                           S
                           
                              (
                              
                                 CIM
                              
                              )
                           
                           −
                           
                              SSM
                           
                        . When 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 3
                              
                           
                         and 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 6
                              
                           
                         were merged with the corresponding CIM, since all the symmetries of 
                           S
                           
                              (
                              
                                 CIM
                              
                              )
                           
                         could be successfully merged, so there existed no symmetry to be verified, i.e. 
                           
                              SV
                           
                           =
                           Φ
                        . When 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 2
                              
                           
                         was merged, the Pocket.1’s axis line 
                           d
                         in Fig. 5.2(b) indeed lied in plane 
                           c
                         in Fig. 5.2(a), thus only the symmetry 
                           
                              
                                 Z
                              
                              
                                 c
                              
                           
                         was successfully merged. Thereby, 
                           
                              {
                              
                                 
                                    Z
                                 
                                 
                                    b
                                 
                              
                              ,
                              
                                 
                                    C
                                 
                                 
                                    a
                                    ,
                                    2
                                 
                              
                              }
                           
                         needed to be verified. The real face of Pocket.1 obtained in this experiment was highlighted in Fig. 5.2(c). The real faces of 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 7
                              
                           
                         obtained in this experiment were highlighted in Fig. 5.2(d). Both 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 4
                              
                           
                         and 
                           
                              
                                 
                                    FS
                                 
                              
                              
                                 5
                              
                           
                         were Fillet feature sets. Therefore, their filleted edges were used to verify 
                           S
                           
                              (
                              
                                 CIM
                              
                              )
                           
                        . The detected symmetries of the base model are shown in Fig. 5.2(e). Experiment 1 shows that our approach is helpful in making full use of the feature information in the base model, and also helpful in efficiently determining the symmetries of the Boolean combinations of the features.

To test the robustness and efficiency of our method, symmetries of more than one hundred models have been successfully detected. Experiment 2 shows the detection results of 32 different models of connectors, accessories, bearings, gearboxes, handheld devices and so on. Fig. 5.3
                         presents the visual results of experiment 2. The models at the arrow tails are input models. The models with planes or axes at the arrow heads are the results of symmetry detection. The transparent rectangular planes indicate the detected reflectional symmetry planes. The dashed and dotted lines indicate the detected rotational symmetry axes. It can be seen that the global symmetries of these 32 input models can be correctly detected. It also shows that our method is robust.

The results of experiment 2 are shown in details in Table 5.2
                        , where ET indicates the execution time, NFE indicates the number of features in the model, NFA indicates the number of faces in the model, NRES indicates the number of reflectional symmetries and NROS indicates the number of rotational symmetries. The following conclusions can be drawn from Table 5.2.


                        
                           
                              (1)
                              All symmetries of the 32 models were correctly detected.

The symmetries were detected in very short time. None of the execution time exceeds one second.

The execution time bears little relation to the faces in models. And, the execution time increases steadily with an increase of the number of features. For example, although the gear model (No. 32) has 195 faces, its symmetries were detected in only 150 ms. This is because the gear model has only 4 features and the Circular Pattern feature’s information was used to directly derive the rotational axis of the replicated features.

Additionally, the case of verifying the symmetries that are weaker than the infinite-fold rotational symmetries did not occur in these 32 input models.

@&#DISCUSSION@&#

The above two experiments show that our approach has a robust and efficient performance. In the following, we are going to discuss some relevant issues. 
                           
                              •
                              There are some input cases in which our method has a better performance. (1) The symmetries of the first feature set in the ordered sequence can be determined by using only feature information. (2) The 2D profiles of Pad, Pocket, Stiffener and Hole features are extruded to the fixed lengths. (3) The congruent features can be built by using Mirror or Pattern features when possible. (4) There are fewer Shell, Fillet, Chamfer and Draft features in the input models.

Our approach is much more efficient compared with the face-based methods  [2,3,9,10]. A feature, a volumetric unit for detection in our approach, is more macroscopic than a face and has abundant feature information. Some symmetries of the features can be directly derived by using only their feature information. However, only the geometrical and topological information of CAD models can be used, by face-based methods, to detect self-symmetries of the faces and inter-symmetries among the faces. Therefore, the faced-based methods tend to be too complicated to put into practice and the performance is not so desirable (generally in 
                                    O
                                    
                                       (
                                       
                                          
                                             n
                                          
                                          
                                             4
                                          
                                       
                                       )
                                    
                                 ). For example, by using the sketch information, the symmetries of sketch-based features can be derived in 
                                    O
                                    
                                       (
                                       n
                                       log
                                       n
                                       )
                                    
                                 . Besides, if a feature contains 200 faces and is replicated for 99 times by a Pattern feature, the faced-based methods need to detect the symmetries of the 
                                    200
                                    ∗
                                    
                                       (
                                       99
                                       +
                                       1
                                       )
                                    
                                    =
                                    20
                                    
                                    000
                                  faces, which is laborious and time-consuming. While by using the information of this Pattern feature, our approach can instantly derive the symmetries of the features that belong to this Pattern feature. Therefore, on this point, our approach, undoubtedly, has the absolute advantage over the face-based methods.

In Li  [9]’s method, all the local symmetries of each congruent face set, many of which may be of no use to the global symmetries, need to be determined to derive the global symmetries. However, it is not necessarily the case that our approach has to determine all the symmetries of each feature sets. If the symmetries of feature set are partly determined or undetermined, the verifying techniques are applied to efficiently determine whether this feature set satisfied the symmetries of the last merging stage. Nevertheless, in the worst cases, our feature-based method degenerates to the traditional face-based methods, e.g., no feature information can be used. However, these cases are rare in practice.

@&#LIMITATIONS@&#

Our approach proves effective in correctly detecting the symmetries of a large number of CAD models, yet it sometimes fails to detect the symmetries of four types of CAD models (as shown in Table 5.3
                        ) which are rarely found in practice. To find the potential defects of our approach, four representative experiments were carried out respectively for the four types of models, as shown in Table 5.3, where the real faces of the features are highlighted.

The limitations of our approach relate to bad design habits, as discussed in Section  2.1. The models resulted from bad design habits can be classified into the models of Types 1–4, as shown in Table 5.3. The models of Types 1–3 are created by using redundant feature modeling, which are defined as follows. A model of Type 1 is the one in which if two features with the same feature type are substituted by one feature with the same feature type, the geometric shape of this model remains unchanged. A model of Type 2 is the one in which if a feature is deleted, the geometric shape of this model remains unchanged. A model of Type 3 is the one in which if a portion of a feature is deleted, the geometric shape of this model remains unchanged. A model of Type 4 is the one of which the local symmetric shapes are built by non-symmetric features. When detecting the symmetries of the models of Type 1, Type 2, Type 3 and Type 4, our approach may fail because the basic theories of our approach may not hold.

For example, for model 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         in Table 5.3, Pad.1 and Pad.2 can be substituted by one Pad feature. Formula (2) does not hold for model 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                        . Besides, 
                           S
                           
                              (
                              
                                 {
                                 
                                    Pad
                                 
                                 .
                                 1
                                 }
                              
                              )
                           
                           ⩾
                           S
                           
                              (
                              
                                 {
                                 
                                    Pad
                                 
                                 .
                                 1
                                 ∪
                                 
                                    Pad
                                 
                                 .
                                 2
                                 }
                              
                              )
                           
                         and 
                           S
                           
                              (
                              
                                 {
                                 
                                    Pad
                                 
                                 .
                                 2
                                 }
                              
                              )
                           
                           ⩾
                           S
                           
                              (
                              
                                 {
                                 
                                    Pad
                                 
                                 .
                                 1
                                 ∪
                                 
                                    Pad
                                 
                                 .
                                 2
                                 }
                              
                              )
                           
                         do not hold for model 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         either. As a result, the symmetries 
                           
                              
                                 C
                              
                              
                                 d
                                 ,
                                 2
                              
                           
                           ,
                           
                              
                                 Z
                              
                              
                                 e
                              
                           
                         and 
                           
                              
                                 C
                              
                              
                                 f
                                 ,
                                 2
                              
                           
                         of model 
                           
                              
                                 M
                              
                              
                                 1
                              
                           
                         were not detected by our approach. For model 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                         in Table 5.3, Pad.2 can be deleted because it is fully wrapped by Pad.3. As a result, the Pad.2’s symmetries 
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                           ,
                           
                              
                                 Z
                              
                              
                                 c
                              
                           
                         and 
                           
                              
                                 Z
                              
                              
                                 d
                              
                           
                        , which indeed do not exist in model 
                           
                              
                                 M
                              
                              
                                 2
                              
                           
                        , however were detected by our approach. For model 
                           
                              
                                 M
                              
                              
                                 3
                              
                           
                         in Table 5.3, Pad.2’s portion which is inside Pad.1 can be deleted. As a matter of fact, Pad.2’s portion which is inside Pad.1 makes Pad.2 non-symmetric under 
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                        . Therefore, the symmetry 
                           
                              
                                 Z
                              
                              
                                 b
                              
                           
                         of 
                           
                              
                                 M
                              
                              
                                 3
                              
                           
                         was not detected by our approach. For model 
                           
                              
                                 M
                              
                              
                                 4
                              
                           
                         in Table 5.3, the two hole-like local shapes of 
                           
                              
                                 M
                              
                              
                                 4
                              
                           
                         are respectively built by Pad.1 and Pocket.1 which are not symmetric under 
                           
                              
                                 Z
                              
                              
                                 d
                              
                           
                           ,
                           
                              
                                 C
                              
                              
                                 e
                                 ,
                                 2
                              
                           
                        , and 
                           
                              
                                 C
                              
                              
                                 f
                                 ,
                                 2
                              
                           
                        . Therefore, the three symmetries 
                           
                              
                                 Z
                              
                              
                                 d
                              
                           
                           ,
                           
                              
                                 C
                              
                              
                                 e
                                 ,
                                 2
                              
                           
                        , and 
                           
                              
                                 C
                              
                              
                                 f
                                 ,
                                 2
                              
                           
                        , which do exist in 
                           
                              
                                 M
                              
                              
                                 4
                              
                           
                        , were not detected by our approach.

Given the potential fallings of our approach, more robust and efficient methods need to be explored and this is an area warranting further studying.

Differing from the face-based approaches, a feature-based method is proposed to rapidly detect the global exact symmetries in CAD models. The main work of our approach is concluded as follows.


                     
                        
                           (1)
                           The relationship between feature’s symmetries and their feature information is studied. This helps us to rapidly determine as many symmetries of features as possible by using only feature information.

The rules are proposed to determine the symmetries of Boolean combinations of features. Since not all the symmetries of features can be determined by using only feature information, three approaches are proposed to solve the problem of how to merge the symmetries of features when all, part of, or none of the symmetries of features can be determined.

Classifying features by using feature information is studied to detect the inter-symmetries among congruent features.

The sorting rules are proposed to minimize the merging and verifying operations.

Additionally, the following research directions are worthy of exploring in the future. 
                        
                           (1)
                           Our method can only be applied to regular models that are bounded by planes and quadratic surfaces. There are many free-form CAD models in practice whose symmetries are difficult to detect due to the complexity of their free-form features. Handling this type of CAD models is quite a challenge in the future.

Our method is limited to the part models. Nevertheless, in finite element analyses, symmetry detection for the assembly models is of more significance. Our approach can be further extended to handle the assembly models.

Detecting the local symmetries in CAD models plays an important role in beautifying models  [4] and error detection  [21]. By detecting local symmetries, we can determine which feature stage is designed incorrectly. Therefore, this is one of our research points in the future as well.

@&#ACKNOWLEDGMENT@&#

The authors are thankful to the financial support from the NSF of China (No. 61073066).

@&#REFERENCES@&#

